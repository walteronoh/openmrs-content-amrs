{
	"name": "POC ANC Return Visit Form v1.0",
	 "description": "A form for Antenatal return clients.",
  "version": "1.0",
  "published": true,
  "uuid": "",
  "retired": false,
  "encounter": "ANCADULTRETURN",
  "processor": "EncounterFormProcessor",
  "encounterType": "26bfc6b7-28d0-41ab-90c5-e101af46d06d",
  "referencedForms": [],
	"pages": [
		{
			"label": "Encounter Details",
			"sections": [
				{
					"label": "Encounter Details",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Visit date:",
							"type": "encounterDatetime",
							"required": "true",
							"default": "",
							"id": "encDate",
							"questionOptions": {
								"rendering": "date"
							},
							"validators": [
								{
									"type": "date"
								}
							]
						},
						{
							"type": "encounterProvider",
							"label": "Provider:",
							"id": "provider",
							"required": "true",
							"default": "",
							"questionOptions": {
								"rendering": "ui-select-extended"
							}
						},
						{
							"type": "encounterLocation",
							"label": "Facility name (site/satellite clinic required):",
							"id": "location",
							"required": "true",
							"questionOptions": {
								"rendering": "ui-select-extended"
							}
						},
						{
							"label": "ANC visit number:",
							"id": "visitNumber",
							"questionOptions": {
								"answers": [],
								"concept": "02faca9b-50be-4f5e-b363-171a2d561abb",
								"rendering": "number",
								"min": "1",
								"max": "9"
							},
							"type": "obs",
							"validators": []
						}
					]
				}
			]
		},
		{
			"label": "Vitals",
			"sections": [
				{
					"label": "Vital Signs",
					"isExpanded": "true",
					"questions": [
						{
							"type": "obsGroup",
							"label": "test group",
							"questionOptions": {
								"rendering": "group",
								"concept": "a899e6d8-1350-11df-a1f1-0026b9348838"
							},
							"questions": [
								{
									"label": "BP:Systolic:",
									"questionOptions": {
										"rendering": "number",
										"concept": "a8a65d5a-1350-11df-a1f1-0026b9348838",
										"max": "250",
										"min": "0"
									},
									"type": "obs",
									"validators": [],
									"id": "syst"
								},
								{
									"label": "BP:Diastolic:",
									"questionOptions": {
										"rendering": "number",
										"concept": "a8a65e36-1350-11df-a1f1-0026b9348838",
										"max": "200",
										"min": "0"
									},
									"type": "obs",
									"validators": [],
									"id": "diast"
								},
								{
									"label": "Pulse(Rate/Min):",
									"questionOptions": {
										"rendering": "number",
										"concept": "a8a65f12-1350-11df-a1f1-0026b9348838",
										"max": "230",
										"min": "0"
									},
									"type": "obs",
									"validators": [],
									"id": "pulse"
								},
								{
									"label": "RR(Breath/Min):",
									"questionOptions": {
										"rendering": "number",
										"concept": "a8a6f71a-1350-11df-a1f1-0026b9348838",
										"max": "99",
										"min": "0"
									},
									"type": "obs",
									"validators": [],
									"id": "resp"
								},
								{
									"label": "Temp(C):",
									"questionOptions": {
										"rendering": "decimal",
										"concept": "a8a65fee-1350-11df-a1f1-0026b9348838",
										"max": "43.00",
										"min": "25.00"
									},
									"type": "obs",
									"validators": [
										{
											"type": "decimal",
											"decimalPlace": 1
										}
									],
									"id": "temp"
								},
								{
									"label": "Weight(Kg):",
									"id": "weight",
									"questionOptions": {
										"rendering": "decimal",
										"concept": "a8a660ca-1350-11df-a1f1-0026b9348838",
										"max": "250",
										"min": "0"
									},
									"type": "obs",
									"validators": [
										{
											"type": "decimal",
											"decimalPlace": 1
										}
									]
								},
								{
									"label": "Height(CM):",
									"id": "height",
									"historicalExpression": "(HD.getObject('prevEnc').getValue('a8a6619c-1350-11df-a1f1-0026b9348838'))",
									"questionOptions": {
										"rendering": "decimal",
										"concept": "a8a6619c-1350-11df-a1f1-0026b9348838",
										"max": "228.00",
										"min": "10.00"
									},
									"type": "obs",
									"validators": [
										{
											"type": "decimal",
											"decimalPlace": 1
										}
									]
								},
								{
									"label": "Sp02:",
									"questionOptions": {
										"rendering": "number",
										"concept": "a8a66354-1350-11df-a1f1-0026b9348838",
										"max": "100",
										"min": "0"
									},
									"type": "obs",
									"validators": [],
									"id": "saturation"
								},
								{
									"label": "BMI:Kg/M2",
									"questionOptions": {
										"rendering": "number",
										"concept": "a89c60c0-1350-11df-a1f1-0026b9348838",
										"max": "100",
										"min": "0",
										"calculate": {
											"calculateExpression": "calcBMI(height,weight)"
										}
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "age<18"
									},
									"id": "bmi"
								},
								{
									"label": "BMI for age Z-Score:",
									"id": "bmiScore",
									"questionOptions": {
										"rendering": "number",
										"concept": "9061e5d5-8478-4d16-be44-bfec05b6705a",
										"max": "4",
										"min": "-4",
										"calculate": {
											"calculateExpression": "!isEmpty(height) && !isEmpty(weight) ? calcBMIForAgeZscore(bmiForAgeRef,height,weight): ''"
										}
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "age<=5 ||age >=17"
									}
								},
								{
									"label": "MUAC:MM",
									"questionOptions": {
										"rendering": "number",
										"concept": "a89c6188-1350-11df-a1f1-0026b9348838",
										"max": "450",
										"min": "60"
									},
									"type": "obs",
									"validators": [],
									"id": "muac"
								}
							],
							"id": "muac"
						}
					]
				},
				{
					"label": "Nutrition Assessment and Diagnosis",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Nutrition status:",
							"id": "nutritionStatus",
							"questionOptions": {
								"rendering": "select",
								"concept": "ac5f7974-3a71-4867-af59-0c30d68ce9d8",
								"answers": [
									{
										"concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
										"label": "Normal"
									},
									{
										"concept": "1505faef-c8aa-422c-b356-da065b88ec9c",
										"label": "Overweight"
									},
									{
										"concept": "2a60e784-1314-4454-91ba-7ea4cc2c3b15",
										"label": "Obese"
									},
									{
										"concept": "0306539c-f24f-49f5-b059-b646adbec47c",
										"label": "Severe acute malnutrition"
									},
									{
										"concept": "f0dd06d5-6174-447f-9a9c-f8635b4a6a6d",
										"label": "Moderate  acute malnutrition"
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Nutrition intervention:",
							"id": "nutritionIntervention",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8a8afd8-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "42c0032e-e404-4e64-9564-06cc1473d5d0",
										"label": "Nutrition counselling"
									},
									{
										"concept": "a8a488d6-1350-11df-a1f1-0026b9348838",
										"label": "Supplememntary feeding program"
									},
									{
										"concept": "55f41f90-5650-4292-8fb2-8c1eadd95cb1",
										"label": "Outpatient therapeutic program"
									},
									{
										"concept": "a8a8b0b4-1350-11df-a1f1-0026b9348838",
										"label": "Inpatient management"
									},
									{
										"concept": "c6b6915a-8bc0-4420-8d3b-ae6282b4be68",
										"label": "Weight management"
									}
								]
							},
							"type": "obs",
							"validators": []
						}
					]
				}
			]
		},
		{
			"label": "Pre-Clinic Review",
			"sections": [
				{
					"label": "Pre-clinic Review",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Was this visit scheduled?",
							"id": "scheduledVisit",
							"questionOptions": {
								"rendering": "select",
								"concept": "a89ff9a6-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a89b6440-1350-11df-a1f1-0026b9348838",
										"label": "Scheduled visit"
									},
									{
										"concept": "a89ff816-1350-11df-a1f1-0026b9348838",
										"label": "Unscheduled visit early"
									},
									{
										"concept": "a89ff8de-1350-11df-a1f1-0026b9348838",
										"label": "Unscheduled visit late"
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "If unscheduled, actual scheduled date",
							"id": "actualDate",
							"type": "obs",
							"required": {
								"type": "conditionalRequired",
								"message": "Patient visit marked as unscheduled. Please provide the scheduled date.",
								"referenceQuestionId": "scheduledVisit",
								"referenceQuestionAnswers": [
									"a89ff816-1350-11df-a1f1-0026b9348838",
									"a89ff8de-1350-11df-a1f1-0026b9348838"
								]
							},
							"questionOptions": {
								"rendering": "date",
								"concept": "dc1942b2-5e50-4adc-949d-ad6c905f054e"
							},
							"validators": [
								{
									"type": "date",
									"allowFutureDates": "true"
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(scheduledVisit) && arrayContains(['a89ff816-1350-11df-a1f1-0026b9348838','a89ff8de-1350-11df-a1f1-0026b9348838'], scheduledVisit) && isEmpty(myValue)",
									"message": "Patient visit marked as unscheduled. Please provide the scheduled date."
								}
							],
							"hide": {
								"hideWhenExpression": "!arrayContains(['a89ff816-1350-11df-a1f1-0026b9348838','a89ff8de-1350-11df-a1f1-0026b9348838'], scheduledVisit)"
							}
						},
						{
							"label": "Patient covered by SHIF/SHA:",
							"id": "nhif",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('0b49e3e6-55df-4096-93ca-59edadb74b3f')) ? undefined : HD.getObject('prevEnc').getValue('0b49e3e6-55df-4096-93ca-59edadb74b3f')",
							"questionOptions": {
								"rendering": "select",
								"concept": "1899d98e-46df-437f-bd86-472d37fa3278",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "What is the patient's SHIF/SHA status?",
							"id": "nhifStatus",
							"questionInfo": "Indicate if the patient has been remitting monthly contributions towards the SHIF medical cover.",
							"questionOptions": {
								"rendering": "select",
								"concept": "ab0f59a7-963e-4a8b-860d-2ef6b15b8f97",
								"answers": [
									{
										"concept": "b058a9ad-a0e4-4b37-9214-75b8aed1eaa4",
										"label": "Active"
									},
									{
										"concept": "dd373348-1a7f-4625-9e69-9904fa1cc9c7",
										"label": "Inactive"
									}
								]
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "nhif !== '8b715fed-97f6-4e38-8f6a-c167a42f8923'"
							}
						},
						{
							"label": "What other insurance do you have?",
							"id": "healthInsurance",
							"questionInfo": "Indicate if the patient has another medical cover.",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8b02524-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									},
									{
										"concept": "0bfb0150-949b-4625-98b8-b9d8275bcf44",
										"label": "Employer based health insurance"
									},
									{
										"concept": "6fac74c3-fe25-4170-92a4-3ecb8859152e",
										"label": "Individual private health insurance"
									},
									{
										"concept": "cb0b7a67-961b-485d-8dde-4fa65cec476b",
										"label": "Linda mama services"
									},
									{
										"concept": "21eb8488-76ae-47ce-a542-bb3038ab05de",
										"label": "Zuri health insurance"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								]
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "nhif !== 'a899e0ac-1350-11df-a1f1-0026b9348838'"
							}
						}
					]
				},
				{
					"label": "Observations",
					"isExpanded": "true",
					"questions": [
						{
							"label": "General examination:",
							"id": "examGeneral",
							"questionOptions": {
								"rendering": "select",
								"concept": "a899eb24-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
										"label": "Normal"
									},
									{
										"concept": "a899e890-1350-11df-a1f1-0026b9348838",
										"label": "Abnormal"
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "CVS exam:",
							"id": "examCvs",
							"questionOptions": {
								"rendering": "select",
								"concept": "a899ef84-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
										"label": "Normal"
									},
									{
										"concept": "a899e890-1350-11df-a1f1-0026b9348838",
										"label": "Abnormal"
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Abdominal exam:",
							"id": "examAbdomen",
							"questionOptions": {
								"rendering": "select",
								"concept": "a899f04c-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
										"label": "Normal"
									},
									{
										"concept": "a899e890-1350-11df-a1f1-0026b9348838",
										"label": "Abnormal"
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Examination of external genitalia :",
							"id": "examGenitalia",
							"questionOptions": {
								"rendering": "select",
								"concept": "a899f11e-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
										"label": "Normal"
									},
									{
										"concept": "a8982b54-1350-11df-a1f1-0026b9348838",
										"label": "Genital sores"
									},
									{
										"concept": "a8ad2eb4-1350-11df-a1f1-0026b9348838",
										"label": "Vaginal discharge"
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "FGM associated complications:",
							"id": "fgmComplication",
							"questionOptions": {
								"rendering": "select",
								"concept": "f1e57bc7-3f4b-43a0-981f-0dd9c18f4d86",
								"answers": [
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									},
									{
										"concept": "a8a00874-1350-11df-a1f1-0026b9348838",
										"label": "Scarring "
									},
									{
										"concept": "e42ad00c-2a6a-4731-ad71-9508404fa018",
										"label": "Keloids"
									},
									{
										"concept": "3057bcb8-a9f9-427e-83c5-22a54773e174",
										"label": "Dyspareunia"
									},
									{
										"concept": "a890a71c-1350-11df-a1f1-0026b9348838",
										"label": "UTI"
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Breast examination done:",
							"id": "examDone",
							"questionOptions": {
								"rendering": "select",
								"concept": "b33dd937-9ad5-435b-b86b-9469b533d122",
								"answers": [
									{
										"concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
										"label": "Normal"
									},
									{
										"concept": "a899e890-1350-11df-a1f1-0026b9348838",
										"label": "Abnormal"
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Pallor:",
							"id": "pallor",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8a6f9a4-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Maturity in weeks:",
							"id": "maturityWeeks",
							"questionOptions": {
								"rendering": "number",
								"concept": "a89c293e-1350-11df-a1f1-0026b9348838"
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Fundal height (Weeks):",
							"id": "fundalHeight",
							"questionOptions": {
								"rendering": "number",
								"concept": "a8a005fe-1350-11df-a1f1-0026b9348838"
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Presentation:",
							"id": "presentation",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8b026a0-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "933e0810-c716-41ff-81a9-62858bd69bb2",
										"label": "Frank breech presentation"
									},
									{
										"concept": "a8b025e2-1350-11df-a1f1-0026b9348838",
										"label": "Cephalic presentation"
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Lie:",
							"id": "lie",
							"questionOptions": {
								"rendering": "select",
								"concept": "394f9ff9-1c93-4bb0-80a7-31d10ef5a1cd",
								"answers": [
									{
										"concept": "b14ef520-0c2a-45ca-a598-64d770dc46bd",
										"label": "Transverse"
									},
									{
										"concept": "82c549e8-2d31-4d67-af55-58b9d48fe31b",
										"label": "Longitudinal"
									},
									{
										"concept": "9b66f44f-78d7-4f5e-bad4-5e930096083a",
										"label": "Oblique"
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Foetal heart rate:",
							"id": "fhr",
							"questionOptions": {
								"rendering": "number",
								"concept": "a8a007a2-1350-11df-a1f1-0026b9348838"
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Foetal movement:",
							"id": "foetalMove",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8a006c6-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "cbf5fb38-9b97-4f0b-b9bf-4769ea1be7b0",
										"label": "No foetal movement"
									},
									{
										"concept": "945649a4-c5da-49e5-9b28-751b9be0c7fd",
										"label": "Foetal movement present"
									}
								]
							},
							"type": "obs",
							"validators": []
						}
					]
				}
			]
		},
		{
			"label": "HIV Testing",
			"sections": [
				{
					"label": "HIV Testing",
					"isExpanded": "true",
					"questions": [
						{
							"label": "HIV testing done:",
							"required": "true",
							"questionOptions": {
								"concept": "71bb9660-cb25-48d0-ab90-2dc39df8e9ab",
								"answers": [
									{
										"concept": "76ab49de-c5f4-43dc-a368-0274ee834ad3",
										"label": "Initial"
									},
									{
										"concept": "9ee34e6b-b9ed-4306-b41f-476406895a4a",
										"label": "Retest"
									},
									{
										"concept": "fa5a4dd8-60cd-4085-80b6-4aea76809926",
										"label": "Known positive"
									},
									{
										"concept": "4e704740-b85b-4edb-a5bf-6707878688b8",
										"label": "Revisit"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"id": "currHivStatus"
						},
						{
							"label": "HIV Test One",
							"type": "obsGroup",
							"questionOptions": {
								"rendering": "group",
								"concept": "4544eade-0f9a-45c4-9425-8fa495960f50"
							},
							"id": "hivTestOne",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(currHivStatus) || currHivStatus === 'fa5a4dd8-60cd-4085-80b6-4aea76809926'"
							},
							"questions": [
								{
									"label": "Kit 1 name:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "a8a47fa8-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "3f827a28-d738-4dc0-93a8-f1439d93fe12",
												"label": "Trinscreen"
											},
											{
												"concept": "f652d638-caac-49ce-a0ed-11b2e136301a",
												"label": "Dual Kit"
											},
											{
												"concept": "ab996835-26e8-45f6-b51d-fe2110954eac",
												"label": "Standard Q"
											},
											{
												"concept": "a8afbc9c-1350-11df-a1f1-0026b9348838",
												"label": "Determine"
											}
										]
									},
									"id": "kitName",
									"validators": [],
									"hide": {
								"hideWhenExpression": "isEmpty(currHivStatus) || currHivStatus === 'fa5a4dd8-60cd-4085-80b6-4aea76809926'"
							}
								},
								{
									"label": "Lot number:",
									"type": "obs",
									"questionOptions": {
										"rendering": "text",
										"concept": "114f33e4-0026-4962-a722-a7f8784d3895"
									},
									"id": "lotNumber",
									"validators": [],
									"hide": {
								"hideWhenExpression": "isEmpty(currHivStatus) || currHivStatus === 'fa5a4dd8-60cd-4085-80b6-4aea76809926'"
							}
								},
								{
									"label": "Expiry date:",
									"type": "obs",
									"questionOptions": {
										"rendering": "date",
										"concept": "2550a5ec-d404-49a0-ae75-e2f82ee277a8",
										"weeksList": ""
									},
									"id": "expiryDate",
									"validators": [
										{
											"type": "date",
											"allowFutureDates": "true"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day')",
											"message": "The Expiry date should be in the future."
										}
									],
									"hide": {
								"hideWhenExpression": "isEmpty(currHivStatus) || currHivStatus === 'fa5a4dd8-60cd-4085-80b6-4aea76809926'"
							}
								},
								{
									"label": "HIV test 1 results:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "a8999dfe-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
												"label": "Positive"
											},
											{
												"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
												"label": "Negative"
											},
											{
												"concept": "84242457-a5f4-48fe-b4e0-0e7fa2575ad8",
												"label": "Invalid"
											}
										]
									},
									"id": "testResults",
									"validators": [],
									"hide": {
								"hideWhenExpression": "isEmpty(currHivStatus) || currHivStatus === 'fa5a4dd8-60cd-4085-80b6-4aea76809926'"
							}
								}
							]
						},
						{
							"label": "HIV Test Two",
							"type": "obsGroup",
							"questionOptions": {
								"rendering": "group",
								"concept": "4544eade-0f9a-45c4-9425-8fa495960f50"
							},
							"id": "hivTestTwo",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(currHivStatus) || currHivStatus === 'fa5a4dd8-60cd-4085-80b6-4aea76809926'"
							},
							"questions": [
								{
									"label": "Kit 2 name:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "a8a47fa8-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "22d8b9b3-378a-4ef1-9a38-e4d8b33348ea",
												"label": "One step"
											},
											{
												"concept": "ef44a147-c32b-491e-a5ce-e79003c90e01",
												"label": "First response"
											}
										]
									},
									"id": "kitNameB",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(testResults) || testResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"label": "Lot number:",
									"type": "obs",
									"questionOptions": {
										"rendering": "text",
										"concept": "114f33e4-0026-4962-a722-a7f8784d3895"
									},
									"id": "lotNumberB",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(kitNameB)"
									}
								},
								{
									"label": "Expiry date:",
									"type": "obs",
									"questionOptions": {
										"rendering": "date",
										"concept": "2550a5ec-d404-49a0-ae75-e2f82ee277a8",
										"weeksList": ""
									},
									"id": "expiryDateB",
									"validators": [
										{
											"type": "date",
											"allowFutureDates": "true"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day')",
											"message": "The Expiry date should be in the future."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(kitNameB)"
									}
								},
								{
									"label": "HIV test 2 results:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "a89c4f0e-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
												"label": "Positive"
											},
											{
												"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
												"label": "Negative"
											},
											{
												"concept": "84242457-a5f4-48fe-b4e0-0e7fa2575ad8",
												"label": "Invalid"
											}
										]
									},
									"id": "testResultsB",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(kitNameB)"
									}
								}
							]
						},
						{
							"label": "HIV Test",
							"type": "obsGroup",
							"questionOptions": {
								"rendering": "group",
								"concept": "4544eade-0f9a-45c4-9425-8fa495960f50"
							},
							"id": "hivTestA2",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(currHivStatus) || currHivStatus === 'fa5a4dd8-60cd-4085-80b6-4aea76809926'"
							},
							"questions": [
								{
									"label": "Kit 1 name:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "a8a47fa8-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "3f827a28-d738-4dc0-93a8-f1439d93fe12",
												"label": "Trinscreen"
											}
										]
									},
									"id": "kitNameD",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(testResultsB) || testResultsB !== 'a896d2cc-1350-11df-a1f1-0026b9348838' || kitName ==='a8afbc9c-1350-11df-a1f1-0026b9348838' && kitNameB === 'ef44a147-c32b-491e-a5ce-e79003c90e01'"
									}
								},
								{
									"label": "Lot number:",
									"type": "obs",
									"questionOptions": {
										"rendering": "text",
										"concept": "114f33e4-0026-4962-a722-a7f8784d3895"
									},
									"id": "lotNumberD",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(kitNameD)"
									}
								},
								{
									"label": "Expiry date:",
									"type": "obs",
									"validators": [
										{
											"type": "date",
											"allowFutureDates": "true"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
											"message": "Expiry date should be greater than the encounter date."
										}
									],
									"questionOptions": {
										"rendering": "date",
										"concept": "2550a5ec-d404-49a0-ae75-e2f82ee277a8",
										"weeksList": ""
									},
									"id": "expiryDateD",
									"hide": {
										"hideWhenExpression": "isEmpty(kitNameD)"
									}
								},
								{
									"label": "HIV test 3 results:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "a89c4f0e-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
												"label": "Positive"
											},
											{
												"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
												"label": "Negative"
											},
											{
												"concept": "84242457-a5f4-48fe-b4e0-0e7fa2575ad8",
												"label": "Invalid"
											}
										]
									},
									"id": "testResultsD",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(kitNameD)"
									}
								}
							]
						},
						{
							"label": "HIV Test",
							"type": "obsGroup",
							"questionOptions": {
								"rendering": "group",
								"concept": "4544eade-0f9a-45c4-9425-8fa495960f50"
							},
							"id": "hivTest3",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(currHivStatus) || currHivStatus === 'fa5a4dd8-60cd-4085-80b6-4aea76809926'"
							},
							"questions": [
								{
									"label": "Kit 3 name:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "a8a47fa8-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "ef44a147-c32b-491e-a5ce-e79003c90e01",
												"label": "First Response"
											}
										]
									},
									"id": "kitNameC",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(testResultsB) || testResultsB !== 'a896f3a6-1350-11df-a1f1-0026b9348838' || kitName ==='a8afbc9c-1350-11df-a1f1-0026b9348838' && kitNameB === 'ef44a147-c32b-491e-a5ce-e79003c90e01'"
									}
								},
								{
									"label": "Lot number:",
									"type": "obs",
									"questionOptions": {
										"rendering": "text",
										"concept": "114f33e4-0026-4962-a722-a7f8784d3895"
									},
									"id": "lotNumberC",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(kitNameC)"
									}
								},
								{
									"label": "Expiry date:",
									"type": "obs",
									"validators": [
										{
											"type": "date",
											"allowFutureDates": "true"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
											"message": "Expiry date should be greater than the encounter date."
										}
									],
									"questionOptions": {
										"rendering": "date",
										"concept": "2550a5ec-d404-49a0-ae75-e2f82ee277a8",
										"weeksList": ""
									},
									"id": "expiryDateC",
									"hide": {
										"hideWhenExpression": "isEmpty(kitNameC)"
									}
								},
								{
									"label": "HIV test 3 results:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "eae7ec5d-16f2-4764-bf42-c4924ebcaa24",
										"answers": [
											{
												"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
												"label": "Positive"
											},
											{
												"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
												"label": "Negative"
											},
											{
												"concept": "84242457-a5f4-48fe-b4e0-0e7fa2575ad8",
												"label": "Invalid"
											}
										]
									},
									"id": "testResultsC",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(kitNameC)"
									}
								}
							]
						},
						{
							"label": "Final results:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "a89c6c64-1350-11df-a1f1-0026b9348838",
								"calculate": {
									"calculateExpression": "String(testResults) === 'a896f3a6-1350-11df-a1f1-0026b9348838' && String(testResultsB) === '84242457-a5f4-48fe-b4e0-0e7fa2575ad8' ? 'a89a7ae4-1350-11df-a1f1-0026b9348838' : String(testResults) === 'a896f3a6-1350-11df-a1f1-0026b9348838' && String(testResultsB) === 'a896d2cc-1350-11df-a1f1-0026b9348838' && String(testResultsD) === 'a896f3a6-1350-11df-a1f1-0026b9348838' ? 'a89a7ae4-1350-11df-a1f1-0026b9348838' : String(testResults) === 'a896f3a6-1350-11df-a1f1-0026b9348838' && String(testResultsB) === 'a896f3a6-1350-11df-a1f1-0026b9348838' && String(testResultsC) === 'a896f3a6-1350-11df-a1f1-0026b9348838' ? 'a896f3a6-1350-11df-a1f1-0026b9348838' : String(testResults) === 'a896f3a6-1350-11df-a1f1-0026b9348838' && String(testResultsB) === 'a896d2cc-1350-11df-a1f1-0026b9348838' && String(testResultsC) === 'a896d2cc-1350-11df-a1f1-0026b9348838' ? 'a896d2cc-1350-11df-a1f1-0026b9348838' : String(testResults) === 'a896f3a6-1350-11df-a1f1-0026b9348838' && String(testResultsB) === 'a896d2cc-1350-11df-a1f1-0026b9348838' && String(testResultsD) === 'a896d2cc-1350-11df-a1f1-0026b9348838' ? 'a896d2cc-1350-11df-a1f1-0026b9348838' : String(testResults) === 'a896f3a6-1350-11df-a1f1-0026b9348838' && String(testResultsB) === 'a896f3a6-1350-11df-a1f1-0026b9348838' && String(testResultsC) === 'a896d2cc-1350-11df-a1f1-0026b9348838' ? 'a89a7ae4-1350-11df-a1f1-0026b9348838' : String(testResults) === 'a896d2cc-1350-11df-a1f1-0026b9348838' ? 'a896d2cc-1350-11df-a1f1-0026b9348838' : String(testResults) === '84242457-a5f4-48fe-b4e0-0e7fa2575ad8' || String(testResultsB) === '84242457-a5f4-48fe-b4e0-0e7fa2575ad8' || String(testResultsC) === '84242457-a5f4-48fe-b4e0-0e7fa2575ad8' || String(testResultsD) === '84242457-a5f4-48fe-b4e0-0e7fa2575ad8' ? 'a89a7ae4-1350-11df-a1f1-0026b9348838' : ''"
								},
								"answers": [
									{
										"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
										"label": "Positive"
									},
									{
										"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
										"label": "Negative"
									},
									{
										"concept": "a89a7ae4-1350-11df-a1f1-0026b9348838",
										"label": "Inconclusive"
									}
								]
							},
							"id": "finalResult",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(currHivStatus) || currHivStatus === 'fa5a4dd8-60cd-4085-80b6-4aea76809926'"
							}
						},
						{
							"label": "Results given to client:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8a4a8b6-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"id": "resultGiven",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(currHivStatus) || currHivStatus === 'fa5a4dd8-60cd-4085-80b6-4aea76809926'"
							}
						}
					]
				},
				{
					"label": "Patner Testing:",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Has the client's partner been tested for HIV?:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8a4636a-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									},
									{
										"concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
										"label": "N/A"
									}
								]
							},
							"id": "patnerTested"
						},
						{
							"label": "Partner HIV status:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8a46428-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
										"label": "Positive"
									},
									{
										"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
										"label": "Negative"
									},
									{
										"concept": "a899b50a-1350-11df-a1f1-0026b9348838",
										"label": "Unknown"
									}
								]
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": "patnerTested !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							},
							"id": "patnerStatus"
						}
					]
				}
			]
		},
		{
			"label": "Clinical History",
			"sections": [
				{
					"label": "Social History",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Civil status:",
							"type": "obs",
							"historicalExpression": "HD.getObject('prevEnc').getValue('a899a9f2-1350-11df-a1f1-0026b9348838')",
							"questionOptions": {
								"rendering": "select",
								"concept": "a899a9f2-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899af10-1350-11df-a1f1-0026b9348838",
										"label": "Cohabitating"
									},
									{
										"concept": "a899ad58-1350-11df-a1f1-0026b9348838",
										"label": "Divorced"
									},
									{
										"concept": "a8aa76b0-1350-11df-a1f1-0026b9348838",
										"label": "Married monogamous"
									},
									{
										"concept": "a8b03712-1350-11df-a1f1-0026b9348838",
										"label": "Married polygamous"
									},
									{
										"concept": "a899aba0-1350-11df-a1f1-0026b9348838",
										"label": "Separated"
									},
									{
										"concept": "a899ac7c-1350-11df-a1f1-0026b9348838",
										"label": "Single"
									},
									{
										"concept": "a899ae34-1350-11df-a1f1-0026b9348838",
										"label": "Widowed"
									}
								]
							},
							"validators": [],
							"id": "civilStatus"
						},
						{
							"label": "Discordant couple:",
							"required": "true",
							"questionOptions": {
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									},
									{
										"concept": "a899b50a-1350-11df-a1f1-0026b9348838",
										"label": "Unknown"
									},
									{
										"concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
										"label": "N/A"
									}
								],
								"concept": "a8af49d8-1350-11df-a1f1-0026b9348838",
								"rendering": "select"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							},
							"id": "discCouple"
						}
					]
				},
				{
					"label": "Prevention With Positives",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Prevention with positives: At risk population:",
							"required": "true",
							"historicalExpression": "HD.getObject('prevEnc').getValue('93aa3f1d-1c39-4196-b5e6-8adc916cd5d6')",
							"questionOptions": {
								"rendering": "select",
								"concept": "93aa3f1d-1c39-4196-b5e6-8adc916cd5d6",
								"answers": [
									{
										"concept": "5da55301-e28e-4fdf-8b64-02622dedc8b0",
										"label": "Client of sex worker"
									},
									{
										"concept": "a89ff438-1350-11df-a1f1-0026b9348838",
										"label": "Commercial sex worker"
									},
									{
										"concept": "a8af49d8-1350-11df-a1f1-0026b9348838",
										"label": "Discordant couple"
									},
									{
										"concept": "a890d57a-1350-11df-a1f1-0026b9348838",
										"label": "IV drug use"
									},
									{
										"concept": "e19c35f0-12f0-46c2-94ea-97050f37b811",
										"label": "MSM"
									},
									{
										"concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
										"label": "N/A"
									}
								]
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							},
							"id": "pwpRisk"
						},
						{
							"label": "Prevention with positives: PWP services:",
							"id": "pwpServices",
							"required": "true",
							"historicalExpression": "HD.getObject('prevEnc').getValue('9ce5dbf0-a141-4ad8-8c9d-cd2bf84fe72b')",
							"questionOptions": {
								"rendering": "select",
								"concept": "9ce5dbf0-a141-4ad8-8c9d-cd2bf84fe72b",
								"answers": [
									{
										"concept": "f0a280e8-eb88-41a8-837a-f9949ed1b9cd",
										"label": "Condom promotion/provision"
									},
									{
										"concept": "bf51f71e-937c-4da5-ae07-654acf59f5bb",
										"label": "Couple counseling"
									},
									{
										"concept": "91f43249-73c7-427c-8300-2038fc0d6be8",
										"label": "Needle exchange"
									},
									{
										"concept": "05656545-86be-4605-9527-34fb580534b1",
										"label": "Targeted risk reduction"
									},
									{
										"concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
										"label": "N/A"
									}
								]
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						}
					]
				},
				{
					"label": "Hospitalization History",
					"questions": [
						{
							"type": "obsGroup",
							"label": "Recent hospitalizations",
							"questionOptions": {
								"rendering": "group",
								"concept": "a8a003a6-1350-11df-a1f1-0026b9348838"
							},
							"questions": [
								{
									"label": "Was the patient hospitalized since last visit?",
									"id": "wasHospitalized",
									"questionOptions": {
										"concept": "a898c56e-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
												"label": "Yes"
											},
											{
												"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
												"label": "No"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": []
								}
							],
							"id": "hospDetailed"
						},
						{
							"type": "obsGroup",
							"label": "If yes reason for hospitalization:",
							"questionOptions": {
								"concept": "a8a003a6-1350-11df-a1f1-0026b9348838",
								"rendering": "repeating"
							},
							"questions": [
								{
									"label": "Reason for hospitalization:",
									"id": "hospReason",
									"questionOptions": {
										"concept": "a8a07a48-1350-11df-a1f1-0026b9348838",
										"rendering": "problem"
									},
									"type": "obs",
									"validators": [
										{
											"type": "conditionalAnswered",
											"message": "Providing diagnosis but didn't answer that patient was hospitalized in question",
											"referenceQuestionId": "wasHospitalized",
											"referenceQuestionAnswers": [
												"a899b35c-1350-11df-a1f1-0026b9348838"
											]
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "isEmpty(myValue) && !isEmpty(wasHospitalized) && wasHospitalized === 'a899b35c-1350-11df-a1f1-0026b9348838'",
											"message": "Patient previously marked as hospitalized. Please provide hospitalization reason."
										}
									],
									"hide": {
										"hideWhenExpression": "wasHospitalized !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
									}
								}
							],
							"id": "reasonHosp"
						}
					]
				},
				{
					"label": "Reproductive History",
					"isExpanded": "true",
					"questions": [
						{
							"label": "How many pregnancies have you had? (Gravida)",
							"type": "obs",
							"id": "noPregnancy",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a8aaf59a-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a8aaf59a-1350-11df-a1f1-0026b9348838')",
							"questionOptions": {
								"concept": "a8aaf59a-1350-11df-a1f1-0026b9348838",
								"rendering": "number",
								"max": "50",
								"min": "0"
							},
							"hide": {
								"hideWhenExpression": "sex !== 'F'"
							}
						},
						{
							"label": "How many pregnancies have you delivered? (Parity)",
							"type": "obs",
							"id": "noDelivery",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a899a920-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a899a920-1350-11df-a1f1-0026b9348838')",
							"questionOptions": {
								"concept": "a899a920-1350-11df-a1f1-0026b9348838",
								"rendering": "number",
								"min": "0",
								"max": "50"
							},
							"hide": {
								"hideWhenExpression": "sex !== 'F'"
							}
						},
						{
							"label": "Reproductive age status:",
							"id": "menStatus",
							"required": "true",
							"questionOptions": {
								"concept": "a8a185d2-1350-11df-a1f1-0026b9348838",
								"rendering": "select",
								"answers": [
									{
										"label": "Menstruating",
										"concept": "a8ad2b4e-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "Postmenopausal",
										"concept": "5cc1c1a7-dfcc-47dc-ad73-c386c188fad8"
									},
									{
										"label": "Amenorrhea",
										"concept": "a8a18514-1350-11df-a1f1-0026b9348838"
									}
								]
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "sex !== 'F'"
							}
						},
						{
							"label": "LMP:",
							"id": "lmpDate1",
							"questionOptions": {
								"concept": "a89ff758-1350-11df-a1f1-0026b9348838",
								"rendering": "date"
							},
							"type": "obs",
							"validators": [
								{
									"type": "date"
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(pattype1) && pattype1 === '375e6d4a-ba94-41ac-8ac3-5a56015c4d92'",
									"message": "Patient is antenatal. Please provide LMP."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(menStatus) && menStatus === 'a8ad2b4e-1350-11df-a1f1-0026b9348838'",
									"message": "Patient is menstruating. Please provide LMP."
								}
							],
							"hide": {
								"hideWhenExpression": " sex !== 'F' || menStatus !== 'a8ad2b4e-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "EDD:",
							"id": "delDate",
							"required": "true",
							"questionOptions": {
								"concept": "a8aaddbc-1350-11df-a1f1-0026b9348838",
								"rendering": "date",
								"calculate": {
									"calculateExpression": "moment(lmpDate1).isValid() ? moment(lmpDate1).add(280, 'days').toDate():''"
								}
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "(new moment(lmpDate1)).isAfter((new moment(myValue)), 'day') || (new moment(lmpDate1)).isSame((new moment(myValue)), 'day')",
									"message": "EDD should be greater than the encounter date."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(pregnant) && pregnant === 'a899b35c-1350-11df-a1f1-0026b9348838'",
									"message": "Patient is pregnant. Please provide EDD."
								}
							]
							
						},
						{
							"label": "Actual date of delivery:",
							"id": "actualDelDate",
							"questionOptions": {
								"concept": "a8aae050-1350-11df-a1f1-0026b9348838",
								"rendering": "date"
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Gestation in weeks:",
							"id": "gestationWeeks",
							"questionOptions": {
								"concept": "0670d3d9-950c-4836-b147-0dc8e6b013aa",
								"rendering": "number"
							},
							"type": "obs",
							"validators": []
						}
					]
				},
				{
					"label": "Medical And Surgical History",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Medical and surgical history:",
							"type": "obs",
							"questionOptions": {
								"rendering": "multiCheckbox",
								"concept": "a8b010e8-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "63c079d9-87fb-4bea-b860-863bff0e29c5",
										"label": "Surgical operation"
									},
									{
										"concept": "a893436e-1350-11df-a1f1-0026b9348838",
										"label": "Diabetes"
									},
									{
										"concept": "a8986880-1350-11df-a1f1-0026b9348838",
										"label": "Hypertension "
									},
									{
										"concept": "a8b00c4c-1350-11df-a1f1-0026b9348838",
										"label": "Blood Transfusion"
									},
									{
										"concept": "a890a96a-1350-11df-a1f1-0026b9348838",
										"label": "Tuberculosis "
									},
									{
										"concept": "a8a19842-1350-11df-a1f1-0026b9348838",
										"label": "Drug allergy"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								]
							},
							"validators": [],
							"id": "medHistory"
						}
					]
				},
				{
					"label": "Cancer Screening",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Cervical cancer screening done:",
							"required": "true",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('3086a740-face-4fcd-825b-1e627a66c93a')) ? undefined : HD.getObject('prevEnc').getValue('3086a740-face-4fcd-825b-1e627a66c93a')",
							"id": "cervCanScreen",
							"questionOptions": {
								"concept": "3086a740-face-4fcd-825b-1e627a66c93a",
								"rendering": "select",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									},
									{
										"concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
										"label": "N/A"
									}
								]
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "sex !== 'F'"
							}
						},
						{
							"label": "Cervical cancer screening test result:",
							"type": "obs",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('6bad2971-c776-4f0e-ae15-a3fc0cbd7d0f')) ? undefined : HD.getObject('prevEnc').getValue('6bad2971-c776-4f0e-ae15-a3fc0cbd7d0f')",
							"id": "caTestResult",
							"questionOptions": {
								"concept": "6bad2971-c776-4f0e-ae15-a3fc0cbd7d0f",
								"rendering": "select",
								"answers": [
									{
										"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
										"label": "Positive"
									},
									{
										"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
										"label": "Negative"
									}
								]
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": "sex !== 'F' ||cervCanScreen !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Cervical cancer result date:",
							"type": "obs",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('958b9055-88be-4bf1-9a2c-f209424a03ac')) ? undefined : HD.getObject('prevEnc').getValue('958b9055-88be-4bf1-9a2c-f209424a03ac')",
							"default": "",
							"id": "cercanDate",
							"questionOptions": {
								"rendering": "date",
								"concept": "958b9055-88be-4bf1-9a2c-f209424a03ac"
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(caTestResult) && caTestResult !== 'a89ad3a4-1350-11df-a1f1-0026b9348838' ",
									"message": "Date is result is required."
								}
							],
							"hide": {
								"hideWhenExpression": "isEmpty(caTestResult)"
							}
						},
						{
							"label": "If cervical cancer is positive, is patient on treatment?",
							"id": "caTreatment",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('3e4943b5-8499-43fb-b254-e1bb1dacfdb7')) ? undefined : HD.getObject('prevEnc').getValue('3e4943b5-8499-43fb-b254-e1bb1dacfdb7')",
							"questionOptions": {
								"concept": "3e4943b5-8499-43fb-b254-e1bb1dacfdb7",
								"rendering": "select",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									},
									{
										"concept": "a89c1ef8-1350-11df-a1f1-0026b9348838",
										"label": "Completed"
									},
									{
										"concept": "a899b50a-1350-11df-a1f1-0026b9348838",
										"label": "Unknown"
									}
								]
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "caTestResult !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "If patient on treatment, indicate below:",
							"type": "obs",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('94f54710-6ee0-45cd-ad5f-a990fcb47bc1')) ? undefined : HD.getObject('prevEnc').getValue('94f54710-6ee0-45cd-ad5f-a990fcb47bc1')",
							"id": "caTreatmentMode",
							"questionOptions": {
								"concept": "94f54710-6ee0-45cd-ad5f-a990fcb47bc1",
								"rendering": "select",
								"answers": [
									{
										"concept": "dcb72b0b-c1cb-4f32-aa82-e8f7b74cc16e",
										"label": "Cryotherapy"
									},
									{
										"concept": "ca10f28c-586a-427a-8bcc-816f0835ab18",
										"label": "Chemotherapy"
									},
									{
										"concept": "a8a713f8-1350-11df-a1f1-0026b9348838",
										"label": "Hysterectomy"
									},
									{
										"concept": "12afc118-5acd-48c6-89a0-1b6156c33d10",
										"label": "Radiotherapy"
									},
									{
										"concept": "b6fccd82-c622-4c3e-9563-39899e709b3b",
										"label": "Thermo-coagulation/Loop Electrosurgical Excision Procedure"
									}
								]
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": "caTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						}
					]
				},
				{
					"label": "Violence Screening",
					"isExpanded": "true",
					"questions": [
						{
							"label": "In the last 3 months, has your partner(s) hit, kicked, slapped, or otherwise physically hurt you?",
							"id": "physical",
							"required": "true",
							"type": "obs",
							"questionOptions": {
								"concept": "8fca5b8a-0674-49e5-8111-003db067ee22",
								"rendering": "select",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								]
							}
						},
						{
							"label": "In the last 3 months, has your partner threatened to hurt you or abused you verbally or emotionally? E.g abusing or talking down to you?",
							"id": "emmotional",
							"required": "true",
							"type": "obs",
							"questionOptions": {
								"concept": "374a34e2-71a0-4221-b59e-8d50721330ee",
								"rendering": "select",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								]
							}
						},
						{
							"label": "In the last 3 months, has your partner(s) forced you to do something sexually that made you feel uncomfortable?",
							"id": "sexual",
							"required": "true",
							"type": "obs",
							"questionOptions": {
								"concept": "920709bc-dde6-4d21-863e-851e63c084e4",
								"rendering": "select",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								]
							}
						},
						{
							"label": "In the last 3 months, has your partner (s) deliberately withdrawn any form of support, including financial support?",
							"id": "financial",
							"required": "true",
							"type": "obs",
							"questionOptions": {
								"concept": "c900913e-1fcc-48c5-a39e-fb106c3645dc",
								"rendering": "select",
								"answers": [
									{
										"label": "Yes",
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838"
									},
									{
										"label": "No",
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838"
									}
								]
							}
						},
						{
							"label": "Violence screening assessment notes:",
							"type": "obs",
							"id": "gbvText",
							"questionOptions": {
								"concept": "5e4dc798-2cce-4a1a-97e9-bcf22d64b07c",
								"rendering": "textarea",
								"rows": 7
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && (physical === 'a899b35c-1350-11df-a1f1-0026b9348838' || emmotional === 'a899b35c-1350-11df-a1f1-0026b9348838' || sexual === 'a899b35c-1350-11df-a1f1-0026b9348838' || financial === 'a899b35c-1350-11df-a1f1-0026b9348838')",
									"message": "Patient screened positive for violence, please provide notes."
								}
							]
						}
					]
				},
				{
					"label": "Adult Vaccination",
					"questions": [
						{
							"label": "Immunization history:",
							"type": "obs",
							"questionOptions": {
								"rendering": "multiCheckbox",
								"concept": "b29b512f-cd46-41ee-a568-bdaafa0bb874",
								"answers": [
									{
										"concept": "a897dd84-1350-11df-a1f1-0026b9348838",
										"label": "Hepatitis B"
									},
									{
										"concept": "a8a70746-1350-11df-a1f1-0026b9348838",
										"label": "Flu"
									},
									{
										"concept": "a890a654-1350-11df-a1f1-0026b9348838",
										"label": "Tetanus booster"
									},
									{
										"concept": "a6678857-3e09-42ab-ad38-9680335b71cd",
										"label": "Covid -19 vaccine"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								]
							},
							"validators": [],
							"id": "adultImmun"
						}
					]
				}
			]
		},
		{
			"label": "Medication History",
			"sections": [
				{
					"label": "ART History",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Is the patient on ART?",
							"required": "true",
							"id": "onArt",
							"historicalExpression": "arrayContainsAny(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'], HD.getObject('prevEnc').getValue('a89b75d4-1350-11df-a1f1-0026b9348838')) ? 'a899b35c-1350-11df-a1f1-0026b9348838' : HD.getObject('prevEnc').getValue('a89ae254-1350-11df-a1f1-0026b9348838')",
							"questionOptions": {
								"concept": "a89ae254-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(transferInControl) && transferInControl === 'a899b42e-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a899b35c-1350-11df-a1f1-0026b9348838'], myValue)",
									"message": "In the enrollment section, patient not marked as transfer in. Kindly confirm."
								}
							],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Reason for use:",
							"id": "reasonUse",
							"type": "obs",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a8a30d1c-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a8a30d1c-1350-11df-a1f1-0026b9348838')",
							"questionOptions": {
								"concept": "a8a30d1c-1350-11df-a1f1-0026b9348838",
								"rendering": "select",
								"answers": [
									{
										"concept": "a89adc46-1350-11df-a1f1-0026b9348838",
										"label": "Treatment"
									},
									{
										"concept": "a8a19c20-1350-11df-a1f1-0026b9348838",
										"label": "PEP"
									},
									{
										"concept": "27ac429d-8a42-476e-b2f6-65bde0b8c935",
										"label": "Prep"
									},
									{
										"concept": "a89fbedc-1350-11df-a1f1-0026b9348838",
										"label": "PMTCT"
									}
								]
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": "onArt!== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "If patient started ART since last visit, enter start date:",
							"id": "startDate",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a89d200a-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a89d200a-1350-11df-a1f1-0026b9348838')",
							"questionOptions": {
								"concept": "a89d200a-1350-11df-a1f1-0026b9348838",
								"rendering": "date"
							},
							"type": "obs",
							"validators": [
								{
									"type": "date"
								}
							],
							"hide": {
								"hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Line of ART patient is taking:",
							"id": "current_arv_line",
							"historicalExpression": "!_.isEmpty(HD.getObject('prevEnc').getValue('a89b6a62-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('04616f5d-b961-4f41-bbd7-bcc0dd235577')",
							"questionOptions": {
								"concept": "04616f5d-b961-4f41-bbd7-bcc0dd235577",
								"answers": [
									{
										"concept": "034047bd-3fa1-4b2a-b0f0-2787e9b9f7b3",
										"label": "First line regimen"
									},
									{
										"concept": "8f8a715d-e49a-4b2c-aa3a-83fa9d7a4254",
										"label": "Second line regimen"
									},
									{
										"concept": "a90ebdd2-351f-485a-b850-4938fcca2729",
										"label": "Third line regimen"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838'",
									"message": "Patient previously marked as on ART. Please provide the treatment category."
								}
							],
							"hide": {
								"hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Patient's ART regimen, adults:",
							"id": "current_art_regimen_adult",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a89b6a62-1350-11df-a1f1-0026b9348838')) ? (_.isEmpty(HD.getObject('prevEnc').getValue('a8a08344-1350-11df-a1f1-0026b9348838'))? HD.getObject('prevEnc').getValue('a899cf5e-1350-11df-a1f1-0026b9348838') : HD.getObject('prevEnc').getValue('a899cf5e-1350-11df-a1f1-0026b9348838')) : HD.getObject('prevEnc').getValue('a89b6a62-1350-11df-a1f1-0026b9348838')",
							"questionOptions": {
								"concept": "a899cf5e-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "18e86e1f-92b8-40cd-8266-0df0ab0a4a50",
										"label": "DTG50mg/3TC300mg/TDF300mg"
									},
									{
										"concept": "a55fcb21-8ca5-4369-9807-2ce212e00377",
										"label": "TAF25mg/3TC300mg/DTG50mg"
									},
									{
										"concept": "1c4a75d0-cc91-4752-b0a5-4b833326ff7a",
										"label": "TDF300mg/3TC300mg/EFV600mg"
									},
									{
										"concept": "ea501f4e-cbc5-4942-b9c8-0ac415929f08",
										"label": "TDF300mg/3TC300mg/EFV400mg"
									},
									{
										"concept": "6a73f32d-1870-4527-af6e-74443251ded2",
										"label": "NVP200/ZDV300/3TC150"
									},
									{
										"concept": "e78843da-fdb6-446d-8e99-873c278b3540",
										"label": "ABC600mg/3TC300mg"
									},
									{
										"concept": "a89cc876-1350-11df-a1f1-0026b9348838",
										"label": "3TC300mg/TDF300mg"
									},
									{
										"concept": "a896758e-1350-11df-a1f1-0026b9348838",
										"label": "3TC150mg/ZDV300mg"
									},
									{
										"concept": "a8afcf84-1350-11df-a1f1-0026b9348838",
										"label": "Emtri200mg/TDF300(Truvada)"
									},
									{
										"concept": "a897e7c0-1350-11df-a1f1-0026b9348838",
										"label": "Aluvia(Kaletra)200mg/LPV50mg"
									},
									{
										"concept": "a8afc066-1350-11df-a1f1-0026b9348838",
										"label": "Atazanavir300/Ritonavir100"
									},
									{
										"concept": "dabf36cb-dd9a-4542-a8ef-874c1ee5be4a",
										"label": "FTC200mg/RPV25mg/TDF245mg(Eviplera)"
									},
									{
										"concept": "51669635-73b7-41fe-b215-33eefc9105f3",
										"label": "Cabotegravir 600mg/Rilpivirine 900mg IM"
									},
									{
										"concept": "98b0baf6-0b73-4429-9264-6233684b0969",
										"label": "Dolutegravir 50mg"
									},
									{
										"concept": "8fa45026-3de4-42dc-ad95-689f64c5286b",
										"label": "Tenofovir alafenamide 25mg"
									},
									{
										"concept": "a897f8a0-1350-11df-a1f1-0026b9348838",
										"label": "Abacavir300mg"
									},
									{
										"concept": "db3c194b-3e1b-4001-9a1c-a5df1728fc28",
										"label": "Efavirenz 200mg"
									},
									{
										"concept": "a89673f4-1350-11df-a1f1-0026b9348838",
										"label": "Lamivudine150mg"
									},
									{
										"concept": "a8afbd64-1350-11df-a1f1-0026b9348838",
										"label": "Raltegravir 400mg"
									},
									{
										"concept": "a897ea4a-1350-11df-a1f1-0026b9348838",
										"label": "Zidovudine300mg"
									},
									{
										"concept": "68a0a5dd-1e91-43a2-8dce-c6e84a14de04",
										"label": "Darunavir 600mg"
									},
									{
										"concept": "1baf254e-1429-4fd9-8db1-edf6523cea13",
										"label": " Ritonavir 100mg"
									},
									{
										"concept": "42ef7c4d-d6fb-49c0-a46e-019c42dea203",
										"label": " Ritonavir 80mg"
									},
									{
										"concept": "38fbba9c-4b26-412d-9659-8dd649514d66",
										"label": "Etravirine 100mg"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838'",
									"message": "Patient  marked as on ART. Please provide the Regimen."
								}
							],
							"hide": {
								"hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"type": "obsGroup",
							"label": "ART adherence",
							"questionOptions": {
								"concept": "bc3834dd-ef07-4027-be30-729baa069291",
								"rendering": "group"
							},
							"questions": [],
							"id": "__nqKIxIy2E"
						}
					]
				},
				{
					"label": "Morisky Adherence",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Do you ever forget to take your medicines? (0=No, 1=Yes)",
							"id": "forget",
							"questionOptions": {
								"concept": "99a99956-90b0-431e-a453-bf8efffeb7d3",
								"rendering": "number",
								"max": "1",
								"min": "0"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838' && isEmpty(myValue)",
									"message": "Patient on ARVs. Please provide morisky adherence history."
								}
							],
							"hide": {
								"hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Are you sometimes not keen about taking your medications? (0=No, 1=Yes)",
							"id": "notKeen",
							"questionOptions": {
								"concept": "26b3c8c9-20be-4585-98f7-c8b8bf2c9207",
								"rendering": "number",
								"max": "1",
								"min": "0"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838' && isEmpty(myValue)",
									"message": "Patient on ARVs. Please provide morisky adherence history."
								}
							],
							"hide": {
								"hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Do you stop taking medicine at times when you feel worse? (0=No, 1=Yes)",
							"id": "feelWorse",
							"questionOptions": {
								"concept": "ccffa130-12c6-45e8-a24a-b16c0395abd5",
								"rendering": "number",
								"max": "1",
								"min": "0"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838' && isEmpty(myValue)",
									"message": "Patient on ARVs. Please provide morisky adherence history."
								}
							],
							"hide": {
								"hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "If you feel better, do you sometimes stop taking your medicine? (0=No, 1=Yes)",
							"id": "feelBetter",
							"questionOptions": {
								"concept": "f9eb1023-4cd7-47a7-87cd-b3353824c2c7",
								"rendering": "number",
								"max": "1",
								"min": "0"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838' && isEmpty(myValue)",
									"message": "Patient on ARVs. Please provide morisky adherence history."
								}
							],
							"hide": {
								"hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Morisky 4 total score:",
							"id": "moriskyScore4",
							"questionOptions": {
								"concept": "315472dc-2b5e-4add-b3b7-bbcf21a8959b",
								"rendering": "number",
								"max": "4",
								"min": "0",
								"calculate": {
									"calculateExpression": "isNaN(parseFloat(feelBetter)+ parseFloat(feelWorse)+ parseFloat(notKeen)+ parseFloat(forget)) ? undefined: (parseFloat(feelBetter)+ parseFloat(feelWorse)+ parseFloat(notKeen)+ parseFloat(forget))"
								}
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Morisky score rating:",
							"id": "scoreMo4",
							"questionOptions": {
								"concept": "",
								"rendering": "text",
								"calculate": {
									"calculateExpression": "parseInt(moriskyScore4) === 0 && parseInt(moriskyScore4) < 1 ? 'Good' : parseInt(moriskyScore4) >=1 && parseInt(moriskyScore4) <= 2 ? 'Inadequate' : parseInt(moriskyScore4) >= 3 && parseInt(moriskyScore4) <= 4 ? 'Poor' : 'Unknown'"
								}
							},
							"type": "control",
							"validators": [],
							"hide": {
								"hideWhenExpression": "onArt !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Did you forget to take your medicine yesterday? (0=No, 1=Yes)",
							"id": "medicineYesterday",
							"questionOptions": {
								"concept": "2860acd4-2391-4467-9e69-e848d1672f96",
								"rendering": "number",
								"max": "1",
								"min": "0"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(moriskyScore4) && moriskyScore4 >=3 && isEmpty(myValue)",
									"message": "Patient on ARVs. Please provide morisky adherence history."
								}
							],
							"hide": {
								"hideWhenExpression": "isEmpty(moriskyScore4) || moriskyScore4 <3"
							}
						},
						{
							"label": "Do you sometimes stop taking medicine if you feel like your symptoms are under control? (0=No, 1=Yes)",
							"id": "symptomControl",
							"questionOptions": {
								"concept": "8fcb3ada-2188-4e0a-8c68-18c26fd123b2",
								"rendering": "number",
								"max": "1",
								"min": "0"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(moriskyScore4) && moriskyScore4 >=3 && isEmpty(myValue)",
									"message": "Patient on ARVs. Please provide morisky adherence history."
								}
							],
							"hide": {
								"hideWhenExpression": "isEmpty(moriskyScore4) || moriskyScore4 <3"
							}
						},
						{
							"label": "Do you ever feel under pressure about sticking to your treatment plan? (0=No, 1=Yes)",
							"id": "underPressure",
							"questionOptions": {
								"concept": "87ba16a0-6f57-4b0b-a76e-753977f1ef7f",
								"rendering": "number",
								"max": "1",
								"min": "0"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(moriskyScore4) && moriskyScore4 >=3 && isEmpty(myValue)",
									"message": "Patient on ARVs. Please provide morisky adherence history."
								}
							],
							"hide": {
								"hideWhenExpression": "isEmpty(moriskyScore4) || moriskyScore4 <3"
							}
						},
						{
							"label": "How often do you have difficulty remembering to take all your medication? (0=Never/Rarely, 1/4=Once in a while, 1/2=Sometimes, 3/4=Usually,1=All the time)",
							"id": "difficultyRemembering",
							"questionOptions": {
								"concept": "658523c7-77d2-4419-9633-eba789a7d64d",
								"rendering": "number",
								"max": "1",
								"min": "0"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(moriskyScore4) && moriskyScore4 >=3 && isEmpty(myValue)",
									"message": "Patient on ARVs. Please provide morisky adherence history."
								}
							],
							"hide": {
								"hideWhenExpression": "isEmpty(moriskyScore4) || moriskyScore4 <3"
							}
						},
						{
							"label": "Morisky 8 total score:",
							"id": "moriskyScore",
							"questionOptions": {
								"concept": "857caa4e-b566-4a43-ab78-f911c1a8a727",
								"rendering": "number",
								"max": "8",
								"min": "0",
								"calculate": {
									"calculateExpression": "isNaN(parseFloat(difficultyRemembering) + parseFloat(underPressure) + parseFloat(symptomControl)+ parseFloat(medicineYesterday)+ parseFloat(feelBetter)+ parseFloat(feelWorse)+ parseFloat(notKeen)+ parseFloat(forget)) ? undefined: (parseFloat(difficultyRemembering) + parseFloat(underPressure) + parseFloat(symptomControl)+ parseFloat(medicineYesterday)+ parseFloat(feelBetter)+ parseFloat(feelWorse)+ parseFloat(notKeen)+ parseFloat(forget))"
								}
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(moriskyScore4) || moriskyScore4 <3"
							}
						},
						{
							"label": "Morisky score rating:",
							"id": "scoreMo",
							"questionOptions": {
								"concept": "",
								"rendering": "text",
								"calculate": {
									"calculateExpression": "parseInt(moriskyScore) === 0 && parseFloat(moriskyScore) <= 0.25 ? 'Good' : parseFloat(moriskyScore) >=0.5 && parseInt(moriskyScore) <= 2 ? 'Inadequate' : parseInt(moriskyScore) >= 3 && parseInt(moriskyScore) <= 8 ? 'Poor' : 'Unknown'"
								}
							},
							"type": "control",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(moriskyScore4) || moriskyScore4 <3"
							}
						}
					]
				},
				{
					"label": "PCP Prophylaxis History",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Is the patient on any PCP prophylaxis?",
							"id": "pcpProphylaxisCurrent",
							"historicalExpression": "HD.getObject('prevEnc').getValue('a899e282-1350-11df-a1f1-0026b9348838')",
							"questionOptions": {
								"concept": "a899e282-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									},
									{
										"concept": "a8989396-1350-11df-a1f1-0026b9348838",
										"label": "Septrin"
									},
									{
										"concept": "a890c9e0-1350-11df-a1f1-0026b9348838",
										"label": "Dapsone 100mg"
									}
								],
								"rendering": "select"
							},
							"required": "true",
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"type": "obsGroup",
							"label": "PCP prophylaxis adherence:",
							"questionOptions": {
								"concept": "275eee16-c358-4f3a-ac16-e8f24659df87",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Patient's adherence on PCP prophylaxis:",
									"id": "pcpProphylaxisAdherence",
									"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('115c744a-cf54-469f-bd5f-820352ffe9be')) ? undefined : HD.getObject('prevEnc').getValue('115c744a-cf54-469f-bd5f-820352ffe9be')",
									"questionOptions": {
										"concept": "115c744a-cf54-469f-bd5f-820352ffe9be",
										"answers": [
											{
												"concept": "a8b0f882-1350-11df-a1f1-0026b9348838",
												"label": "Good"
											},
											{
												"concept": "a73d20b3-d721-4763-a362-14a0c41a6b5e",
												"label": "Fair"
											},
											{
												"concept": "fdaf8b47-ea14-4d28-80fa-e1da58a30e8b",
												"label": "Poor"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(pcpProphylaxisCurrent) && arrayContains(['a8989396-1350-11df-a1f1-0026b9348838', 'a890c9e0-1350-11df-a1f1-0026b9348838'], pcpProphylaxisCurrent) && isEmpty(myValue)",
											"message": "Patient on PCP Prophylaxis. Please provide adherence history"
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(pcpProphylaxisCurrent) || pcpProphylaxisCurrent === 'a899e0ac-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"label": "Adherence (PCP) reasons for poor/fair:",
									"id": "pcpAdherence",
									"questionOptions": {
										"concept": "a89ebbc2-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a89ced88-1350-11df-a1f1-0026b9348838",
												"label": "Alcohol"
											},
											{
												"concept": "a8935fde-1350-11df-a1f1-0026b9348838",
												"label": "Depression"
											},
											{
												"concept": "a89eac04-1350-11df-a1f1-0026b9348838",
												"label": "Felt well"
											},
											{
												"concept": "a89eacc2-1350-11df-a1f1-0026b9348838",
												"label": "Forgot"
											},
											{
												"concept": "7211031b-0685-44bc-a5e9-5a018d0173ea",
												"label": "Gave away"
											},
											{
												"concept": "a8af4cee-1350-11df-a1f1-0026b9348838",
												"label": "Lost/ran out of pills"
											},
											{
												"concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
												"label": "Pill burden"
											},
											{
												"concept": "a89eb8c0-1350-11df-a1f1-0026b9348838",
												"label": "Side effects"
											},
											{
												"concept": "a89eba46-1350-11df-a1f1-0026b9348838",
												"label": "Stigma"
											},
											{
												"concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
												"label": "Stock out"
											},
											{
												"concept": "a89de2d8-1350-11df-a1f1-0026b9348838",
												"label": "Too ill"
											},
											{
												"concept": "a897fdaa-1350-11df-a1f1-0026b9348838",
												"label": "Travel problems"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "multiCheckbox"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(pcpProphylaxisCurrent) || pcpProphylaxisCurrent === 'a899e0ac-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], pcpProphylaxisAdherence)"
									}
								},
								{
									"label": "Adherence (PCP): Other (specify):",
									"questionOptions": {
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
										"rendering": "text"
									},
									"type": "obs",
									"id": "pcpOtherAdherence",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(pcpProphylaxisCurrent) || pcpProphylaxisCurrent === 'a899e0ac-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], pcpProphylaxisAdherence)"
									}
								}
							],
							"id": "adherenceDetailed"
						}
					]
				},
				{
					"label": "TB Prophylaxis History",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Is the patient on any TB prophylaxis?",
							"type": "obs",
							"required": "true",
							"id": "onTbProphylaxis",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('163784d2-6c55-4ceb-abf0-df8cebb385f1')) ? undefined : HD.getObject('prevEnc').getValue('163784d2-6c55-4ceb-abf0-df8cebb385f1')",
							"questionOptions": {
								"concept": "163784d2-6c55-4ceb-abf0-df8cebb385f1",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								],
								"rendering": "select"
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "If yes select drug",
							"type": "obs",
							"id": "onTbProphylaxisDrug",
							"historicalExpression": "HD.getObject('prevEnc').getValue('a899e35e-1350-11df-a1f1-0026b9348838')",
							"questionOptions": {
								"concept": "a899e35e-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "162724df-5a66-4ae3-bbf6-5dc6dbba4ebb",
										"label": "Isoniazid 100mg (6H)"
									},
									{
										"concept": "b150ccdc-e7ec-4f99-b592-6f3fa73b3aea",
										"label": "Isoniazid 300mg (6H)"
									},
									{
										"concept": "aeaed1af-5b0d-401e-a32a-e96cf4072ab5",
										"label": "Isoniazid 300mg and Rifapentine 300mg (3HP)"
									},
									{
										"concept": "177635d0-793b-4a66-8324-976c46f795af",
										"label": "Rifampicin 150mg and Isonaizid 75mg (3RH)"
									},
									{
										"concept": "e5e24e6d-e6b0-4c81-8f7b-0e366df29426",
										"label": "Rifampicin 70mg and Isonaizid 50mg (3RH)"
									}
								],
								"rendering": "select"
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(onTbProphylaxis) && onTbProphylaxis === 'a899b35c-1350-11df-a1f1-0026b9348838'",
									"message": "Patient  marked as on TB Prophylaxis. Please provide the drug."
								}
							],
							"hide": {
								"hideWhenExpression": "onTbProphylaxis !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"type": "obsGroup",
							"label": "TB prophylaxis ever",
							"questionOptions": {
								"concept": "d86c36dc-c523-42e3-b07d-eb4c3c4fbf99",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "If no, have you ever used the drugs in the past?",
									"type": "obs",
									"id": "pastTbProphylaxisDrug",
									"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('59077bc1-7ef7-4b27-a33b-113e2841bd4f')) ? undefined : HD.getObject('prevEnc').getValue('59077bc1-7ef7-4b27-a33b-113e2841bd4f')",
									"questionOptions": {
										"concept": "59077bc1-7ef7-4b27-a33b-113e2841bd4f",
										"answers": [
											{
												"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
												"label": "Yes"
											},
											{
												"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
												"label": "No"
											}
										],
										"rendering": "select"
									},
									"validators": [],
									"hide": {
										"hideWhenExpression": "onTbProphylaxis !== 'a899b42e-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"label": "Start date of past TB prophylaxis treatment:",
									"id": "pastStartTbProphTreatment",
									"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('67785e82-c2f7-4417-8ada-cc8e85abbfc1')) ? undefined : HD.getObject('prevEnc').getValue('67785e82-c2f7-4417-8ada-cc8e85abbfc1')",
									"questionOptions": {
										"concept": "67785e82-c2f7-4417-8ada-cc8e85abbfc1",
										"rendering": "date"
									},
									"type": "obs",
									"validators": [
										{
											"type": "date"
										}
									],
									"hide": {
										"hideWhenExpression": "pastTbProphylaxisDrug !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"label": "End date of past TB prophylaxis treatment:",
									"id": "pastEndTbProphTreatment",
									"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('d4f18a59-9bb4-4089-8cd6-1410491569a0')) ? undefined : HD.getObject('prevEnc').getValue('d4f18a59-9bb4-4089-8cd6-1410491569a0')",
									"questionOptions": {
										"concept": "d4f18a59-9bb4-4089-8cd6-1410491569a0",
										"rendering": "date"
									},
									"type": "obs",
									"validators": [
										{
											"type": "date"
										}
									],
									"hide": {
										"hideWhenExpression": "pastTbProphylaxisDrug !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
									}
								}
							],
							"id": "tbpropheverr"
						},
						{
							"label": "TB prophylaxis adherence",
							"type": "obsGroup",
							"questionOptions": {
								"concept": "3a69cfcf-f129-4702-a8dd-d061d2a16b9d",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Patient's adherence on TB prophylaxis:",
									"id": "adherenceOnTbProphy",
									"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('3a69cfcf-f129-4702-a8dd-d061d2a16b9d','ebfdb93a-9292-4245-9a27-0faf49545720')) ? undefined : HD.getObject('prevEnc').getValue('3a69cfcf-f129-4702-a8dd-d061d2a16b9d','ebfdb93a-9292-4245-9a27-0faf49545720')",
									"questionOptions": {
										"concept": "ebfdb93a-9292-4245-9a27-0faf49545720",
										"answers": [
											{
												"concept": "a8b0f882-1350-11df-a1f1-0026b9348838",
												"label": "Good"
											},
											{
												"concept": "a73d20b3-d721-4763-a362-14a0c41a6b5e",
												"label": "Fair"
											},
											{
												"concept": "fdaf8b47-ea14-4d28-80fa-e1da58a30e8b",
												"label": "Poor"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(onTbProphylaxis) && arrayContains(['a899b35c-1350-11df-a1f1-0026b9348838'], onTbProphylaxis) && isEmpty(myValue)",
											"message": "Patient on TB Prophylaxis. Please provide adherence history."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(onTbProphylaxis)|| onTbProphylaxis !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"label": "Adherence (TB Prophylaxis) reasons for poor/fair:",
									"id": "tbProphylaxisAdherence",
									"questionOptions": {
										"concept": "a89ebbc2-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a89ced88-1350-11df-a1f1-0026b9348838",
												"label": "Alcohol"
											},
											{
												"concept": "a8935fde-1350-11df-a1f1-0026b9348838",
												"label": "Depression"
											},
											{
												"concept": "a89eac04-1350-11df-a1f1-0026b9348838",
												"label": "Felt well"
											},
											{
												"concept": "a89eacc2-1350-11df-a1f1-0026b9348838",
												"label": "Forgot"
											},
											{
												"concept": "7211031b-0685-44bc-a5e9-5a018d0173ea",
												"label": "Gave away"
											},
											{
												"concept": "a8af4cee-1350-11df-a1f1-0026b9348838",
												"label": "Lost/Ran out of pills"
											},
											{
												"concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
												"label": "Pill burden"
											},
											{
												"concept": "a89eb8c0-1350-11df-a1f1-0026b9348838",
												"label": "Side effects"
											},
											{
												"concept": "a89eba46-1350-11df-a1f1-0026b9348838",
												"label": "Stigma"
											},
											{
												"concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
												"label": "Stock out"
											},
											{
												"concept": "a89de2d8-1350-11df-a1f1-0026b9348838",
												"label": "Too ill"
											},
											{
												"concept": "a897fdaa-1350-11df-a1f1-0026b9348838",
												"label": "Travel problems"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "multiCheckbox"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(onTbProphylaxis) || onTbProphylaxis !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], adherenceOnTbProphy)"
									}
								},
								{
									"label": "Adherence (TB Prophylaxis): Other (specify):",
									"questionOptions": {
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
										"rendering": "text"
									},
									"type": "obs",
									"id": "tbProphylaxisOtherAdherence",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(onTbProphylaxis) || onTbProphylaxis !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], adherenceOnTbProphy)"
									}
								}
							],
							"id": "tbProphDetailed"
						}
					]
				},
				{
					"label": "Advanced HIV Disease Treatment History",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Cryptococcal meningitis treatment:",
							"required": "true",
							"id": "cryptCurrent",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('a899e516-1350-11df-a1f1-0026b9348838')) ? undefined : HD.getObject('prevEnc').getValue('a899e516-1350-11df-a1f1-0026b9348838')",
							"questionOptions": {
								"concept": "a899e516-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									},
									{
										"concept": "a8971e12-1350-11df-a1f1-0026b9348838",
										"label": "Fluconazole"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Cryptococcal meningitis treatment phase:",
							"id": "cryptxphase",
							"type": "obs",
							"questionOptions": {
								"concept": "27a4be5a-daf1-4ca8-ae00-5845f8dfb9b0",
								"rendering": "select",
								"answers": [
									{
										"concept": "f29c05ea-4d44-42e1-ad89-97e6631f6f7e",
										"label": "Induction phase"
									},
									{
										"concept": "abecbb51-45e1-4150-914a-d0e33082672f",
										"label": "Consolidation phase"
									},
									{
										"concept": "09748d74-2f28-4c2d-a224-fa9314bea5e3",
										"label": "Maintenance phase"
									}
								]
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(cryptCurrent) && cryptCurrent === 'a8971e12-1350-11df-a1f1-0026b9348838'",
									"message": "Patient  marked as on Crypto treatment. Please indicate treatment phase."
								}
							],
							"hide": {
								"hideWhenExpression": "cryptCurrent !== 'a8971e12-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Cryptococcal meningitis treatment start date:",
							"type": "obs",
							"id": "cryptoDate",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('1221a7dd-19ff-4880-b61a-4fab60cbd5a8')) ? undefined : HD.getObject('prevEnc').getValue('1221a7dd-19ff-4880-b61a-4fab60cbd5a8')",
							"questionOptions": {
								"concept": "1221a7dd-19ff-4880-b61a-4fab60cbd5a8",
								"rendering": "date"
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "(new moment(encDate)).isBefore((new moment(myValue)), 'day')",
									"message": "Date should not be greater than the encounter date."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(cryptCurrent) && cryptCurrent === 'a8971e12-1350-11df-a1f1-0026b9348838'",
									"message": "Patient  marked as on Crypto treatment. Please indicate start date."
								}
							],
							"hide": {
								"hideWhenExpression": "cryptCurrent !== 'a8971e12-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "PCP treatment:",
							"required": "true",
							"id": "pcpCurrent",
							"questionOptions": {
								"concept": "be7384b3-2249-431e-872f-a57f0269a008",
								"answers": [
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									},
									{
										"concept": "a8989396-1350-11df-a1f1-0026b9348838",
										"label": "Septrin"
									},
									{
										"concept": "a890c9e0-1350-11df-a1f1-0026b9348838",
										"label": "Dapsone"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Toxoplasmosis treatment:",
							"required": "true",
							"id": "toxoCurrent",
							"questionOptions": {
								"concept": "87f971b1-1537-417e-99bc-e18ab7f480ce",
								"answers": [
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									},
									{
										"concept": "87f971b1-1537-417e-99bc-e18ab7f480ce",
										"label": "Septrin"
									},
									{
										"concept": "010c530d-5433-4c1a-8b08-174c0224a2c5",
										"label": "Pyrimethamine"
									},
									{
										"concept": "52e0e230-cfaf-4301-8fc5-cc4c2383de10",
										"label": "Clindamycin"
									},
									{
										"concept": "c3ce4c2c-b5f7-455f-8c9b-7e58d8976cec",
										"label": "Sulfadiazine"
									},
									{
										"concept": "43eefe0f-044e-407d-8cd4-40755f1e65f2",
										"label": "Folinic acid"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Kaposi's sacorma treatment:",
							"required": "true",
							"id": "kaposiCurrent",
							"questionOptions": {
								"concept": "d88dd806-5db1-49c0-a72e-8437fa718022",
								"answers": [
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									},
									{
										"concept": "ca10f28c-586a-427a-8bcc-816f0835ab18",
										"label": "Chemotherapy"
									},
									{
										"concept": "12afc118-5acd-48c6-89a0-1b6156c33d10",
										"label": "Radiotherapy"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						}
					]
				},
				{
					"label": "Other Medications",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Please add any other medications the patient is taking",
							"type": "obsGroup",
							"questionOptions": {
								"concept": "a8a072c8-1350-11df-a1f1-0026b9348838",
								"rendering": "repeating"
							},
							"questions": [
								{
									"label": "Other drugs:",
									"questionOptions": {
										"concept": "a8a060c6-1350-11df-a1f1-0026b9348838",
										"rendering": "drug"
									},
									"type": "obs",
									"validators": [],
									"id": "otherDrug"
								}
							],
							"id": "otherDrugDetailed"
						}
					]
				},
				{
					"label": "Side Effects/Toxicity",
					"questions": [
						{
							"type": "obsGroup",
							"label": "Side effects",
							"id": "sideEff",
							"questionOptions": {
								"concept": "a8a072c8-1350-11df-a1f1-0026b9348838",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Any side effects attributable to any drug that the patient is currently taking:",
									"id": "currSideEffect",
									"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('30fc0cea-b6c7-48cc-bbfb-4eb53170ce41')) ? undefined : HD.getObject('prevEnc').getValue('30fc0cea-b6c7-48cc-bbfb-4eb53170ce41')",
									"questionOptions": {
										"concept": "30fc0cea-b6c7-48cc-bbfb-4eb53170ce41",
										"answers": [
											{
												"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
												"label": "Yes"
											},
											{
												"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
												"label": "No"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(current_art_regimen_adult) && isEmpty(myValue) && arrayContains(current_art_regimen_adult, '98b0baf6-0b73-4429-9264-6233684b0969')",
											"message": "Patient is on DTG. Kindly fill the side effects."
										}
									],
									"hide": {
										"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
									}
								}
							]
						},
						{
							"type": "obsGroup",
							"questionOptions": {
								"rendering": "repeating",
								"concept": "a8a072c8-1350-11df-a1f1-0026b9348838"
							},
							"label": "If yes drugs suspected to be causing side effects",
							"questions": [
								{
									"label": "Drug:",
									"id": "sideEffectDrug",
									"questionOptions": {
										"concept": "1682a920-c93d-4aad-b9cb-4a2b2c41ff1a",
										"rendering": "drug"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
									}
								}
							],
							"id": "__ovK20spEs"
						},
						{
							"label": "If yes, tick all that apply:",
							"id": "sideEffectype",
							"questionOptions": {
								"concept": "c2ecd5f7-4b47-47ae-b706-3dc5ed98b4db",
								"answers": [
									{
										"concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
										"label": "Anaemia"
									},
									{
										"concept": "a8909060-1350-11df-a1f1-0026b9348838",
										"label": "Hepatitis"
									},
									{
										"concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
										"label": "IRIS"
									},
									{
										"concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
										"label": "Lactic acidosis"
									},
									{
										"concept": "a89cee50-1350-11df-a1f1-0026b9348838",
										"label": "Lipo-dystrophy"
									},
									{
										"concept": "a897fe86-1350-11df-a1f1-0026b9348838",
										"label": "Neuropathy"
									},
									{
										"concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
										"label": "Persistent vomiting"
									},
									{
										"concept": "a895776a-1350-11df-a1f1-0026b9348838",
										"label": "Rash"
									},
									{
										"concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
										"label": "Steven-Johnson syndrome"
									},
									{
										"concept": "5d08b98f-5123-4d6d-9972-825b6aa2f4ed",
										"label": "Fanconi syndrome"
									},
									{
										"concept": "a8a058ce-1350-11df-a1f1-0026b9348838",
										"label": "Renal failure"
									},
									{
										"concept": "a89dca46-1350-11df-a1f1-0026b9348838",
										"label": "Osteopenia/Osteoporosis"
									},
									{
										"concept": "a8ad21e4-1350-11df-a1f1-0026b9348838",
										"label": "Nausea"
									},
									{
										"concept": "a894b604-1350-11df-a1f1-0026b9348838",
										"label": "Burning sensation"
									},
									{
										"concept": "a890861a-1350-11df-a1f1-0026b9348838",
										"label": "Diarrhea"
									},
									{
										"concept": "a8966d1e-1350-11df-a1f1-0026b9348838",
										"label": "Headache"
									},
									{
										"concept": "a8ad042a-1350-11df-a1f1-0026b9348838",
										"label": "Fatigue"
									},
									{
										"concept": "a89366a0-1350-11df-a1f1-0026b9348838",
										"label": "Jaundice"
									},
									{
										"concept": "a89836ee-1350-11df-a1f1-0026b9348838",
										"label": "Dizzy"
									},
									{
										"concept": "a8932f00-1350-11df-a1f1-0026b9348838",
										"label": "Abdominal pain"
									},
									{
										"concept": "a89cec02-1350-11df-a1f1-0026b9348838",
										"label": "Anxiety"
									},
									{
										"concept": "c80dcaad-ea61-4b88-b1f7-c091d706c7de",
										"label": "Nightmare"
									},
									{
										"concept": "a8935fde-1350-11df-a1f1-0026b9348838",
										"label": "Depression"
									},
									{
										"concept": "a8ad3b02-1350-11df-a1f1-0026b9348838",
										"label": "Confusion/abnormal thinking"
									},
									{
										"concept": "a8982de8-1350-11df-a1f1-0026b9348838",
										"label": "Insomnia"
									},
									{
										"concept": "a8ae7ecc-1350-11df-a1f1-0026b9348838",
										"label": "Poor concentration/ memory problems"
									},
									{
										"concept": "a8ad392c-1350-11df-a1f1-0026b9348838",
										"label": "Paresthesia/painful neuropathy"
									},
									{
										"concept": "f5b8f79a-5460-49a5-983e-78cc203673da",
										"label": "Suicide ideation"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(currSideEffect) && currSideEffect === 'a899b35c-1350-11df-a1f1-0026b9348838'",
									"message": "Patient  marked as having side effects. Please provide list."
								}
							],
							"hide": {
								"hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"id": "reaction",
							"label": "Severity of the reaction:",
							"questionOptions": {
								"concept": "6c1b293c-4d8c-470f-9991-93cdde1274ff",
								"answers": [
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									},
									{
										"concept": "a89efccc-1350-11df-a1f1-0026b9348838",
										"label": "Mild"
									},
									{
										"concept": "a89efdee-1350-11df-a1f1-0026b9348838",
										"label": "Moderate"
									},
									{
										"concept": "a89eff1a-1350-11df-a1f1-0026b9348838",
										"label": "Severe"
									},
									{
										"concept": "a899b50a-1350-11df-a1f1-0026b9348838",
										"label": "Unknown"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"id": "action",
							"label": "Action plan:",
							"questionOptions": {
								"concept": "01fb96f5-8dc5-4481-8a11-240994b3b795",
								"answers": [
									{
										"concept": "b5b9663c-9568-4f48-b70f-34c63b21bce4",
										"label": "Stopped drugs"
									},
									{
										"concept": "a8a00158-1350-11df-a1f1-0026b9348838",
										"label": "Substitute drugs"
									},
									{
										"concept": "a8a07bce-1350-11df-a1f1-0026b9348838",
										"label": "Change drugs"
									},
									{
										"concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
										"label": "Switched drugs"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "How certain are you the drug(s) is/are the cause of the reaction?",
							"id": "certainityOfReaction",
							"questionOptions": {
								"concept": "d0efbf5b-cbfc-48fc-a857-c0ca4d70f077",
								"answers": [
									{
										"concept": "45eb8953-dc14-4c2e-8ce6-12cdf7da280a",
										"label": "Certain"
									},
									{
										"concept": "07e9e14e-a718-4a9e-9479-1de79e1f614a",
										"label": "Probable/likely"
									},
									{
										"concept": "260e6d24-1634-4467-a070-e8359f6827f7",
										"label": "Possible"
									},
									{
										"concept": "66b46c63-7e75-4b1d-918a-1e17348c62f7",
										"label": "Unlikely"
									},
									{
										"concept": "b1055e84-0e97-483a-ae8a-3f2dee84a623",
										"label": "Conditional/unclassified"
									},
									{
										"concept": "80d03d9f-2510-4a95-b9d6-2613aaeebd21",
										"label": "Unassessable/unclassified"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currSideEffect !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						}
					]
				}
			]
		},
		{
			"label": "Current Symptoms",
			"sections": [
				{
					"label": "TB Screening Questions",
					"isExpanded": "true",
					"questions": [
						{
							"label": "TB Symptoms:",
							"required": "true",
							"questionOptions": {
								"concept": "a8afcafc-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									},
									{
										"concept": "a8ad1276-1350-11df-a1f1-0026b9348838",
										"label": "Breathlessness"
									},
									{
										"concept": "a892e4b4-1350-11df-a1f1-0026b9348838",
										"label": "Chest pain"
									},
									{
										"concept": "a8afc8b8-1350-11df-a1f1-0026b9348838",
										"label": "Cough of any duration"
									},
									{
										"concept": "d7adae14-c386-49cc-8f7c-765d8ceec566",
										"label": "Fever for = 2 weeks"
									},
									{
										"concept": "3f57aafc-7162-41da-a51b-6a804cb6f5e8",
										"label": "New exposure to household contact with TB"
									},
									{
										"concept": "a89807f0-1350-11df-a1f1-0026b9348838",
										"label": "Noticeable weight loss"
									},
									{
										"concept": "e1862fef-68ed-4df4-90dd-a00152f719aa",
										"label": "Night sweats = 2 weeks"
									},
									{
										"concept": "a8ad462e-1350-11df-a1f1-0026b9348838",
										"label": "Abdomen swelling"
									},
									{
										"concept": "f218c60e-4b54-475a-a4fa-facab9216da8",
										"label": "Groin swelling"
									},
									{
										"concept": "a8a774b0-1350-11df-a1f1-0026b9348838",
										"label": "Joints swelling"
									},
									{
										"concept": "4639388c-ee31-4dcf-abb4-ad71253493bb",
										"label": "Neck swelling"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": [],
							"id": "tbscreening"
						},
						{
							"label": "TB Status:",
							"id": "tbstatus",
							"required": "true",
							"questionOptions": {
								"concept": "02ad9357-b996-4530-b1a4-aff91a105383",
								"answers": [
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "No signs"
									},
									{
										"concept": "a8afcc82-1350-11df-a1f1-0026b9348838",
										"label": "On TB treatment"
									},
									{
										"concept": "260e6d24-1634-4467-a070-e8359f6827f7",
										"label": "Presumed TB"
									},
									{
										"concept": "a8af9046-1350-11df-a1f1-0026b9348838",
										"label": "Confirmed"
									},
									{
										"concept": "a899ea48-1350-11df-a1f1-0026b9348838",
										"label": "Not assessed"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": []
						}
					]
				},
				{
					"label": "Tuberculosis History",
					"isExpanded": "true",
					"questions": [
						{
							"id": "onTbTreatment",
							"required": "true",
							"label": "Is patient on TB treatment?",
							"historicalExpression": "HD.getObject('prevEnc').getValue('a8afcc82-1350-11df-a1f1-0026b9348838')",
							"questionOptions": {
								"concept": "a8afcc82-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Start date of TB treatment:",
							"id": "startDateOfTbTreatment",
							"historicalExpression": "HD.getObject('prevEnc').getValue('a899e5f2-1350-11df-a1f1-0026b9348838')",
							"questionOptions": {
								"concept": "a899e5f2-1350-11df-a1f1-0026b9348838",
								"rendering": "date"
							},
							"type": "obs",
							"validators": [
								{
									"type": "date"
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(onTbTreatment) && arrayContains(['a899b35c-1350-11df-a1f1-0026b9348838'], onTbTreatment) && isEmpty(myValue)",
									"message": "You indicated patient on tb treatment, indicate start date."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "(isEmpty(onTbTreatment) || !arrayContains(['a899b35c-1350-11df-a1f1-0026b9348838'], onTbTreatment)) && !isEmpty(myValue)",
									"message": "You indicated patient is not on tb treatment, therefore start date should not be indicated."
								}
							],
							"hide": {
								"hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Tuberculosis treatment phase:",
							"type": "obs",
							"id": "tbPhase",
							"questionOptions": {
								"concept": "a8afdf4c-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a8afdd08-1350-11df-a1f1-0026b9348838",
										"label": "Continuation phase"
									},
									{
										"concept": "a8afddc6-1350-11df-a1f1-0026b9348838",
										"label": "Retreatment phase"
									},
									{
										"concept": "a8afdc4a-1350-11df-a1f1-0026b9348838",
										"label": "Induction phase"
									},
									{
										"concept": "a8afde8e-1350-11df-a1f1-0026b9348838",
										"label": "Retreated phase"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								],
								"rendering": "select"
							},
							"hide": {
								"hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"type": "obsGroup",
							"label": "Current TB regimen",
							"questionOptions": {
								"concept": "a8afdb8c-1350-11df-a1f1-0026b9348838",
								"rendering": "repeating"
							},
							"hide": {
								"hideWhenExpression": "finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							},
							"questions": [
								{
									"label": "Current TB regimen:",
									"type": "obs",
									"id": "tb_current",
									"questionOptions": {
										"concept": "a899e444-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a899f51a-1350-11df-a1f1-0026b9348838",
												"label": "RHZE"
											},
											{
												"concept": "a897d1a4-1350-11df-a1f1-0026b9348838",
												"label": "RHZ"
											},
											{
												"concept": "a8a382ba-1350-11df-a1f1-0026b9348838",
												"label": "RHE"
											},
											{
												"concept": "a89b1ca6-1350-11df-a1f1-0026b9348838",
												"label": "RH"
											},
											{
												"concept": "a899e19c-1350-11df-a1f1-0026b9348838",
												"label": "EH"
											},
											{
												"concept": "a8971c64-1350-11df-a1f1-0026b9348838",
												"label": "Ethambutol"
											},
											{
												"concept": "a8a3243c-1350-11df-a1f1-0026b9348838",
												"label": "MDR drugs"
											},
											{
												"concept": "a896cc00-1350-11df-a1f1-0026b9348838",
												"label": "INH"
											},
											{
												"concept": "a8ac5f2a-1350-11df-a1f1-0026b9348838",
												"label": "Pyrazinamide"
											},
											{
												"concept": "a8952e4a-1350-11df-a1f1-0026b9348838",
												"label": "Streptomycin"
											},
											{
												"concept": "b8aa06ca-93c6-40ea-b144-c74f841926f4",
												"label": "Rifabutin"
											},
											{
												"concept": "a897d0be-1350-11df-a1f1-0026b9348838",
												"label": "Rifampicin"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "select"
									},
									"validators": [],
									"hide": {
										"hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"label": "tabs/day:",
									"questionOptions": {
										"concept": "a8a07386-1350-11df-a1f1-0026b9348838",
										"max": "30",
										"min": "0",
										"rendering": "number"
									},
									"type": "obs",
									"hide": {
										"field": "tb_current",
										"value": [
											"a899f51a-1350-11df-a1f1-0026b9348838",
											"a897d1a4-1350-11df-a1f1-0026b9348838",
											"a8a382ba-1350-11df-a1f1-0026b9348838"
										]
									},
									"id": "tabsDay"
								},
								{
									"label": "mg:",
									"questionOptions": {
										"concept": "a8a063c8-1350-11df-a1f1-0026b9348838",
										"max": "2000",
										"min": "0",
										"rendering": "number"
									},
									"type": "obs",
									"hide": {
										"field": "tb_current",
										"value": [
											"a899e19c-1350-11df-a1f1-0026b9348838",
											"a8ac5f2a-1350-11df-a1f1-0026b9348838",
											"a8952e4a-1350-11df-a1f1-0026b9348838"
										]
									},
									"id": "milli"
								},
								{
									"label": "mg/day:",
									"questionOptions": {
										"concept": "a8a0744e-1350-11df-a1f1-0026b9348838",
										"max": "2000",
										"min": "0",
										"rendering": "number"
									},
									"type": "obs",
									"hide": {
										"field": "tb_current",
										"value": [
											"a896cc00-1350-11df-a1f1-0026b9348838",
											"a8971c64-1350-11df-a1f1-0026b9348838"
										]
									},
									"id": "miligram"
								},
								{
									"label": "tabs:",
									"questionOptions": {
										"concept": "a8a0630a-1350-11df-a1f1-0026b9348838",
										"max": "180",
										"min": "0",
										"rendering": "number"
									},
									"type": "obs",
									"hide": {
										"field": "tb_current",
										"value": [
											"b8aa06ca-93c6-40ea-b144-c74f841926f4"
										]
									},
									"id": "__xxr3vpnnK"
								}
							],
							"id": "tabbs"
						},
						{
							"label": "TB treatment completion date:",
							"type": "obs",
							"id": "tbComplDate",
							"questionOptions": {
								"concept": "a8a176b4-1350-11df-a1f1-0026b9348838",
								"rendering": "date"
							},
							"hide": {
								"hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "TB treatment defaulted year:",
							"type": "obs",
							"id": "tbDefaultDate",
							"questionOptions": {
								"concept": "a8a18758-1350-11df-a1f1-0026b9348838",
								"rendering": "number"
							},
							"hide": {
								"hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"type": "obsGroup",
							"id": "tbadhere",
							"label": "Patient adherence to TB medications",
							"questionOptions": {
								"concept": "2a4b87dd-977d-4ce8-a321-1f13df4a31b2",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Patient adherence to TB medications:",
									"id": "tb_adherence",
									"questionOptions": {
										"concept": "479decbd-e964-41c3-9576-98b39089ebd3",
										"answers": [
											{
												"concept": "a8b0f882-1350-11df-a1f1-0026b9348838",
												"label": "Good"
											},
											{
												"concept": "a73d20b3-d721-4763-a362-14a0c41a6b5e",
												"label": "Fair"
											},
											{
												"concept": "fdaf8b47-ea14-4d28-80fa-e1da58a30e8b",
												"label": "Poor"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(onTbTreatment) && onTbTreatment === 'a899b35c-1350-11df-a1f1-0026b9348838' && isEmpty(myValue)",
											"message": "Patient on TB Treament. Please provide adherence history."
										}
									],
									"hide": {
										"hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"label": "Adherence (TB Treatment) reasons for poor/fair:",
									"id": "adherenceTbTreatment",
									"questionOptions": {
										"concept": "a89ebbc2-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a89ced88-1350-11df-a1f1-0026b9348838",
												"label": "Alcohol"
											},
											{
												"concept": "a8935fde-1350-11df-a1f1-0026b9348838",
												"label": "Depression"
											},
											{
												"concept": "a89eac04-1350-11df-a1f1-0026b9348838",
												"label": "Felt well"
											},
											{
												"concept": "a89eacc2-1350-11df-a1f1-0026b9348838",
												"label": "Forgot"
											},
											{
												"concept": "7211031b-0685-44bc-a5e9-5a018d0173ea",
												"label": "Gave away"
											},
											{
												"concept": "a8af4cee-1350-11df-a1f1-0026b9348838",
												"label": "Lost/Ran out of pills"
											},
											{
												"concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
												"label": "Pill burden"
											},
											{
												"concept": "a89eb8c0-1350-11df-a1f1-0026b9348838",
												"label": "Side effects"
											},
											{
												"concept": "a89eba46-1350-11df-a1f1-0026b9348838",
												"label": "Stigma"
											},
											{
												"concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
												"label": "Stock out"
											},
											{
												"concept": "a89de2d8-1350-11df-a1f1-0026b9348838",
												"label": "Too ill"
											},
											{
												"concept": "a897fdaa-1350-11df-a1f1-0026b9348838",
												"label": "Travel problems"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "multiCheckbox"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], tb_adherence)"
									}
								},
								{
									"label": "Adherence (TB Treatment): Other (specify):",
									"questionOptions": {
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
										"rendering": "text"
									},
									"type": "obs",
									"id": "adherenceTbOther",
									"validators": [],
									"hide": {
										"hideWhenExpression": "onTbTreatment !== 'a899b35c-1350-11df-a1f1-0026b9348838' || !arrayContains(['a73d20b3-d721-4763-a362-14a0c41a6b5e','fdaf8b47-ea14-4d28-80fa-e1da58a30e8b'], tb_adherence)"
									}
								}
							]
						}
					]
				},
				{
					"label": "STI",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Do you have any of the following:",
							"required": "true",
							"questionOptions": {
								"concept": "a8b00562-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a8982b54-1350-11df-a1f1-0026b9348838",
										"label": "Genital ulcers"
									},
									{
										"concept": "a8ad3062-1350-11df-a1f1-0026b9348838",
										"label": "Urethral discharge"
									},
									{
										"concept": "a8ad2eb4-1350-11df-a1f1-0026b9348838",
										"label": "Vaginal discharge"
									},
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": [],
							"id": "__JnGsrHxJp"
						},
						{
							"label": "STI partner notification:",
							"questionOptions": {
								"concept": "7d7e1c44-a0d5-44ca-8481-8569b38c7e9b",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									},
									{
										"concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
										"label": "N/A"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": [],
							"id": "__prxyDwnxL"
						}
					]
				},
				{
					"label": "Adult WHO Staging",
					"isExpanded": "true",
					"questions": [
						{
							"label": "If you are assigning a new WHO stage to patient today, select new WHO stage:",
							"type": "obs",
							"id": "adultWhoStage",
							"questionOptions": {
								"concept": "a8a8331e-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a89b2606-1350-11df-a1f1-0026b9348838",
										"label": "1"
									},
									{
										"concept": "a89b26d8-1350-11df-a1f1-0026b9348838",
										"label": "2"
									},
									{
										"concept": "a89b27be-1350-11df-a1f1-0026b9348838",
										"label": "3"
									},
									{
										"concept": "a89b289a-1350-11df-a1f1-0026b9348838",
										"label": "4"
									}
								],
								"rendering": "select"
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && arrayContains (['33d13ffb-5f0e-427e-ab80-637491fb6526'], visitTypeUuid)",
									"message": "Required."
								}
							],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Select criteria for new WHO stage:",
							"type": "obs",
							"questionOptions": {
								"concept": "a8ae88a4-1350-11df-a1f1-0026b9348838",
								"rendering": "select-concept-answers"
							},
							"required": {
								"type": "conditionalRequired",
								"message": "Patient marked as receiving new WHO stage. Please select stage.",
								"referenceQuestionId": "adultWhoStage",
								"referenceQuestionAnswers": [
									"a89b2606-1350-11df-a1f1-0026b9348838, a89b26d8-1350-11df-a1f1-0026b9348838, a89b27be-1350-11df-a1f1-0026b9348838, a89b289a-1350-11df-a1f1-0026b9348838"
								]
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							},
							"id": "whoCondition"
						}
					]
				},
				{
					"label": "Other Conditions:",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Does the client have other illnesses?:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "0ac4af8a-1b8e-4404-b445-c0471d6f7576",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"id": "otherIllnesses"
						},
						{
							"type": "obsGroup",
							"label": "Record any illness:",
							"id": "illnessGroup",
							"questionOptions": {
								"concept": "a8af9046-1350-11df-a1f1-0026b9348838",
								"rendering": "repeating"
							},
							"questions": [
								{
									"label": "Chronic Illness:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "d425aaa0-5fa8-431f-8180-dfa88d63e161",
										"answers": [
											{
												"label": "Alzheimer's disease and other dementias",
												"concept": "6cf6b0ca-d1d8-412c-9ae9-96f542b7e0e0"
											},
											{
												"label": "Arthritis",
												"concept": "a890dec6-1350-11df-a1f1-0026b9348838"
											},
											{
												"label": "Asthma",
												"concept": "c2f8f263-105c-4232-8359-e42b7fdb638f"
											},
											{
												"label": "Cancer",
												"concept": "bdbf5450-fec3-4449-9523-249ce94c5973"
											},
											{
												"label": "Cardiovascular diseases",
												"concept": "386e82a9-8b47-4afc-8f4d-fedfb8315e1d"
											},
											{
												"label": "Chronic Hepatitis",
												"concept": "4d0b164b-69f8-47cb-b246-1e3444089ee3"
											},
											{
												"label": "Chronic Kidney Disease",
												"concept": "5cc6e984-a8c1-421b-93ad-0617251fa112"
											},
											{
												"label": "Chronic Obstructive Pulmonary Disease(COPD)",
												"concept": "a89c36a4-1350-11df-a1f1-0026b9348838"
											},
											{
												"label": "Chronic Renal Failure",
												"concept": "67dbba3e-2202-40f4-8801-c50500a017c1"
											},
											{
												"label": "Cystic Fibrosis",
												"concept": "8823c5de-99ae-45ee-b1f4-75310d604590"
											},
											{
												"label": "Deafness and Hearing impairment",
												"concept": "ef7df6d2-e2da-478a-abbe-c6273f211702"
											},
											{
												"label": "Endometriosis",
												"concept": "e30b93cc-1846-4a87-9e67-6b88d2d1b77a"
											},
											{
												"label": "Diabetes",
												"concept": "a893436e-1350-11df-a1f1-0026b9348838"
											},
											{
												"label": "Epilepsy",
												"concept": "09239d44-c4ff-4adb-bd9e-da9c965a827e"
											},
											{
												"label": "Glaucoma",
												"concept": "bb7bce9f-a939-4bde-a732-0dcbbd677355"
											},
											{
												"label": "Heart Disease",
												"concept": "a8b007b0-1350-11df-a1f1-0026b9348838"
											},
											{
												"label": "Hyperlipidaemia",
												"concept": "5aa2d82c-d6ec-4f0f-aa83-e499806c8006"
											},
											{
												"label": "Hypertension",
												"concept": "a8986880-1350-11df-a1f1-0026b9348838"
											},
											{
												"label": "Hypothyroidism",
												"concept": "c84efad0-439a-4444-9a12-8fcf88d81409"
											},
											{
												"label": "Mental illness",
												"concept": "291e1dc4-203a-4a09-aa0c-2d0a1962a719"
											},
											{
												"label": "Multiple Sclerosis",
												"concept": "6328a7ad-7d8b-4466-bb22-64619dd5303d"
											},
											{
												"label": "Obesity ",
												"concept": "2a60e784-1314-4454-91ba-7ea4cc2c3b15"
											},
											{
												"label": "Osteoporosis",
												"concept": "a89dca46-1350-11df-a1f1-0026b9348838"
											},
											{
												"label": "Sickle cell anemia",
												"concept": "7ccac7e4-f399-48b9-b2c7-944b98ec53b1"
											},
											{
												"label": "Thyroid disease",
												"concept": "7838e0b5-dbea-43f8-ab17-95100beb7a25"
											}
										]
									},
									"validators": [],
									"hide": {
										"hideWhenExpression": "otherIllnesses!== 'a899b35c-1350-11df-a1f1-0026b9348838'"
									},
									"id": "chronicIll"
								},
								{
									"label": "Onset date:",
									"type": "obs",
									"questionOptions": {
										"rendering": "date",
										"concept": "9ff2aae1-c03e-405e-bd11-39e06228a1a7",
										"weeksList": ""
									},
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "(new moment(encDate)).isBefore((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
											"message": "Date should not be greater than the encounter date."
										}
									],
									"hide": {
										"hideWhenExpression": "otherIllnesses!== 'a899b35c-1350-11df-a1f1-0026b9348838'"
									},
									"id": "onsetDate"
								},
								{
									"type": "obsGroup",
									"label": "Hypertenstion drugs started, detailed",
									"required": "true",
									"id": "hyperdetailed",
									"hide": {
										"hideWhenExpression": "isEmpty(chronicIll) || !arrayContainsAny(['a8986880-1350-11df-a1f1-0026b9348838'], chronicIll)"
									},
									"questionOptions": {
										"rendering": "repeating",
										"concept": "2a6868b8-7142-4e94-acc5-dbcaa95cf822"
									},
									"questions": [
										{
											"label": "Hypertension treatment:",
											"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('7c4a06ce-11eb-496f-b4db-516ab8d78aa8')) ? undefined : HD.getObject('prevEnc').getValue('7c4a06ce-11eb-496f-b4db-516ab8d78aa8')",
											"id": "antiHypertensive",
											"questionOptions": {
												"concept": "7c4a06ce-11eb-496f-b4db-516ab8d78aa8",
												"answers": [
													{
														"concept": "a8a43c96-1350-11df-a1f1-0026b9348838",
														"label": "Amlodipine"
													},
													{
														"concept": "22857905-ef07-4702-b576-bdb02677e301",
														"label": "Amlodipine/Losartan"
													},
													{
														"concept": "a8a438cc-1350-11df-a1f1-0026b9348838",
														"label": "Atenolol"
													},
													{
														"concept": "a8a43f98-1350-11df-a1f1-0026b9348838",
														"label": "Atorvastatin"
													},
													{
														"concept": "a8a43994-1350-11df-a1f1-0026b9348838",
														"label": "Carvedilol"
													},
													{
														"concept": "f8e835b8-419d-409f-be0d-2ec43dfa3aaf",
														"label": "Clopidogrel"
													},
													{
														"concept": "4039fb88-2e77-41b6-b36f-7937fb9c5b8a",
														"label": "Digoxin"
													},
													{
														"concept": "a89b5cf2-1350-11df-a1f1-0026b9348838",
														"label": "Enalapril"
													},
													{
														"concept": "1739a6d9-9436-4eeb-acc1-ea3f74a63e16",
														"label": "Enoxaparin"
													},
													{
														"concept": "49e26010-8e72-4cdb-baf7-fcbc1aab2de3",
														"label": "Felodipine"
													},
													{
														"concept": "b0e484db-ab3c-4851-9cb6-56bfaf2348a5",
														"label": "Frusemide"
													},
													{
														"concept": "a89b5dd8-1350-11df-a1f1-0026b9348838",
														"label": "HCTZ"
													},
													{
														"concept": "4ef71275-29e3-4b5a-940c-267473ab61b6",
														"label": "Lisinopril 20mg/HCTZ 12.5mg"
													},
													{
														"concept": "a8a43750-1350-11df-a1f1-0026b9348838",
														"label": "Losartan"
													},
													{
														"concept": "e476d21f-911d-4d2e-8c37-1ce76e48930f",
														"label": "Losartan 50mg/Hydrochlorothiazide 12.5mg"
													},
													{
														"concept": "d6dd4ede-2a46-4eb1-99b7-360fb4e329e5",
														"label": "Metropolol"
													},
													{
														"concept": "a8938aa4-1350-11df-a1f1-0026b9348838",
														"label": "Nifedipine"
													},
													{
														"concept": "a8939044-1350-11df-a1f1-0026b9348838",
														"label": "Propranolol"
													},
													{
														"concept": "c06c7786-0657-41db-babc-a16c350d35da",
														"label": "Rosuvastatin"
													},
													{
														"concept": "a8a43a52-1350-11df-a1f1-0026b9348838",
														"label": "Spironolactone"
													},
													{
														"concept": "c72e00e5-4944-412a-8bff-2e24bb7e5f2b",
														"label": "Telmisartan"
													},
													{
														"concept": "59611435-e869-4a8d-8e58-649b7630e471",
														"label": "Junior ASA"
													}
												],
												"rendering": "multiCheckbox"
											},
											"type": "obs",
											"validators": []
										},
										{
											"label": "Frequency",
											"historicalExpression": "HD.getObject('prevEnc').getValue('a8a06184-1350-11df-a1f1-0026b9348838')",
											"questionOptions": {
												"concept": "a8a06184-1350-11df-a1f1-0026b9348838",
												"answers": [
													{
														"label": "Once a day",
														"concept": "a8a05dc4-1350-11df-a1f1-0026b9348838"
													},
													{
														"label": "Twice a day",
														"concept": "a8a05aea-1350-11df-a1f1-0026b9348838"
													},
													{
														"label": "Three times a day",
														"concept": "a8a05b9e-1350-11df-a1f1-0026b9348838"
													},
													{
														"label": "Four times a day",
														"concept": "a8a05cfc-1350-11df-a1f1-0026b9348838"
													},
													{
														"label": "As needed",
														"concept": "9c1dcb23-dc0c-46b2-a755-875ab6d78fc2"
													},
													{
														"label": "Other",
														"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838"
													}
												],
												"rendering": "select"
											},
											"type": "obs",
											"validators": [],
											"hide": {
												"hideWhenExpression": "isEmpty(antiHypertensive)"
											},
											"id": "medFreq"
										},
										{
											"label": "Number of mg:",
											"historicalExpression": "HD.getObject('prevEnc').getValue('a8a063c8-1350-11df-a1f1-0026b9348838')",
											"questionOptions": {
												"concept": "a8a063c8-1350-11df-a1f1-0026b9348838",
												"rendering": "number"
											},
											"type": "obs",
											"id": "numberMg",
											"validators": [],
											"hide": {
												"hideWhenExpression": "isEmpty(antiHypertensive)"
											}
										}
									]
								},
								{
									"type": "obsGroup",
									"label": "Diabetes drugs started, detailed",
									"id": "diabetesdetailed",
									"hide": {
										"hideWhenExpression": "isEmpty(chronicIll) || !arrayContainsAny(['a893436e-1350-11df-a1f1-0026b9348838'], chronicIll)"
									},
									"questionOptions": {
										"rendering": "repeating",
										"concept": "a6812b99-3126-40b8-8c9c-2f511a6912b1"
									},
									"questions": [
										{
											"label": "Diabetes treatment:",
											"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('78809200-7f7f-4d6f-b515-31088765d442')) ? undefined : HD.getObject('prevEnc').getValue('78809200-7f7f-4d6f-b515-31088765d442')",
											"id": "antiDiabetics",
											"questionOptions": {
												"concept": "78809200-7f7f-4d6f-b515-31088765d442",
												"answers": [
													{
														"concept": "a8a4320a-1350-11df-a1f1-0026b9348838",
														"label": "Gliclazide"
													},
													{
														"concept": "a8a4314c-1350-11df-a1f1-0026b9348838",
														"label": "Glibenclamide"
													},
													{
														"concept": "a8a43386-1350-11df-a1f1-0026b9348838",
														"label": "Glimepiride"
													},
													{
														"concept": "a8a42ecc-1350-11df-a1f1-0026b9348838",
														"label": "Insulin 70/30"
													},
													{
														"concept": "a8a42fbc-1350-11df-a1f1-0026b9348838",
														"label": "Insulin NPH"
													},
													{
														"concept": "0ea94c19-1e35-4aaa-9dd8-07bc48048145",
														"label": "Insulin humalogue"
													},
													{
														"concept": "01983012-5416-448d-b9c7-c9ec9c2062b4",
														"label": "Insulin glargine"
													},
													{
														"concept": "a8a4344e-1350-11df-a1f1-0026b9348838",
														"label": "Metformin"
													},
													{
														"concept": "a8a43b1a-1350-11df-a1f1-0026b9348838",
														"label": "Pioglitazone"
													}
												],
												"rendering": "multiCheckbox"
											},
											"type": "obs",
											"validators": []
										},
										{
											"label": "Frequency",
											"historicalExpression": "HD.getObject('prevEnc').getValue('a8a06184-1350-11df-a1f1-0026b9348838')",
											"questionOptions": {
												"concept": "a8a06184-1350-11df-a1f1-0026b9348838",
												"answers": [
													{
														"label": "Once a day",
														"concept": "a8a05dc4-1350-11df-a1f1-0026b9348838"
													},
													{
														"label": "Twice a day",
														"concept": "a8a05aea-1350-11df-a1f1-0026b9348838"
													},
													{
														"label": "Three times a day",
														"concept": "a8a05b9e-1350-11df-a1f1-0026b9348838"
													},
													{
														"label": "Four times a day",
														"concept": "a8a05cfc-1350-11df-a1f1-0026b9348838"
													},
													{
														"label": "As needed",
														"concept": "9c1dcb23-dc0c-46b2-a755-875ab6d78fc2"
													},
													{
														"label": "Other",
														"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838"
													}
												],
												"rendering": "select"
											},
											"type": "obs",
											"validators": [],
											"hide": {
												"hideWhenExpression": "isEmpty(antiDiabetics)"
											},
											"id": "medFreq"
										},
										{
											"label": "Number of mg:",
											"historicalExpression": "HD.getObject('prevEnc').getValue('a8a063c8-1350-11df-a1f1-0026b9348838')",
											"questionOptions": {
												"concept": "a8a063c8-1350-11df-a1f1-0026b9348838",
												"rendering": "number"
											},
											"type": "obs",
											"id": "numberMg",
											"validators": [],
											"hide": {
												"hideWhenExpression": "isEmpty(antiDiabetics)"
											}
										}
									]
								},
								{
									"type": "obsGroup",
									"label": "Mental health drugs started, detailed",
									"id": "mentaldetailed",
									"hide": {
										"hideWhenExpression": "isEmpty(chronicIll) || !arrayContainsAny(['291e1dc4-203a-4a09-aa0c-2d0a1962a719'], chronicIll)"
									},
									"questionOptions": {
										"rendering": "repeating",
										"concept": "e249e6f0-a094-4c7a-8f30-43bebad62a95"
									},
									"questions": [
										{
											"label": "Mental health treatment:",
											"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('c72425eb-d829-4774-87f3-f3fd90dd7258')) ? undefined : HD.getObject('prevEnc').getValue('c72425eb-d829-4774-87f3-f3fd90dd7258')",
											"id": "mhealth",
											"questionOptions": {
												"concept": "c72425eb-d829-4774-87f3-f3fd90dd7258",
												"answers": [
													{
														"concept": "a8a444fc-1350-11df-a1f1-0026b9348838",
														"label": "Haloperidol"
													},
													{
														"concept": "a89891de-1350-11df-a1f1-0026b9348838",
														"label": "Chlorpromazine"
													},
													{
														"concept": "a8a4442a-1350-11df-a1f1-0026b9348838",
														"label": "Olanzapine"
													}
												],
												"rendering": "multiCheckbox"
											},
											"type": "obs",
											"validators": []
										},
										{
											"label": "Frequency",
											"historicalExpression": "HD.getObject('prevEnc').getValue('a8a06184-1350-11df-a1f1-0026b9348838')",
											"questionOptions": {
												"concept": "a8a06184-1350-11df-a1f1-0026b9348838",
												"answers": [
													{
														"label": "Once a day",
														"concept": "a8a05dc4-1350-11df-a1f1-0026b9348838"
													},
													{
														"label": "Twice a day",
														"concept": "a8a05aea-1350-11df-a1f1-0026b9348838"
													},
													{
														"label": "Three times a day",
														"concept": "a8a05b9e-1350-11df-a1f1-0026b9348838"
													},
													{
														"label": "Four times a day",
														"concept": "a8a05cfc-1350-11df-a1f1-0026b9348838"
													},
													{
														"label": "As needed",
														"concept": "9c1dcb23-dc0c-46b2-a755-875ab6d78fc2"
													},
													{
														"label": "Other",
														"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838"
													}
												],
												"rendering": "select"
											},
											"type": "obs",
											"validators": [],
											"hide": {
												"hideWhenExpression": "isEmpty(mhealth)"
											},
											"id": "medFreq"
										},
										{
											"label": "Number of mg:",
											"historicalExpression": "HD.getObject('prevEnc').getValue('a8a063c8-1350-11df-a1f1-0026b9348838')",
											"questionOptions": {
												"concept": "a8a063c8-1350-11df-a1f1-0026b9348838",
												"rendering": "number"
											},
											"type": "obs",
											"id": "numberMg",
											"validators": [],
											"hide": {
												"hideWhenExpression": "isEmpty(mhealth)"
											}
										}
									]
								}
							]
						}
					]
				}
			]
		},
		{
			"label": "Test Results",
			"sections": [
				{
					"label": "Chemistry Lab Tests",
					"questions": [
						{
							"type": "obs",
							"label": "Creatinine mmol/L:",
							"id": "creatinine_test",
							"questionOptions": {
								"concept": "a897e450-1350-11df-a1f1-0026b9348838",
								"rendering": "decimal",
								"showDate": "true",
								"max": "11050.00",
								"min": "0.00",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(creatinine_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(creatinine_test)"
									}
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"type": "obs",
							"label": "SGPT(ALT):",
							"id": "sgptalt_test",
							"questionOptions": {
								"concept": "a896ca48-1350-11df-a1f1-0026b9348838",
								"rendering": "decimal",
								"max": "3500.00",
								"min": "0.00",
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(sgptalt_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(sgptalt_test)"
									}
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"type": "obs",
							"label": "AST:",
							"id": "ast_test",
							"questionOptions": {
								"concept": "a896c8ae-1350-11df-a1f1-0026b9348838",
								"rendering": "decimal",
								"max": "3500.00",
								"min": "0.00",
								"showDate": "true"
							},
							"shownDateOptions": {
								"validators": [
									{
										"type": "date"
									},
									{
										"type": "js_expression",
										"failsWhenExpression": "!isEmpty(ast_test) && isEmpty(myValue)",
										"message": "Date is result is required."
									}
								],
								"hide": {
									"hideWhenExpression": "isEmpty(ast_test)"
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "RBS mmol/L:",
							"id": "rbs_test",
							"type": "obs",
							"questionOptions": {
								"concept": "a898418e-1350-11df-a1f1-0026b9348838",
								"answers": [],
								"rendering": "decimal",
								"max": "50.00",
								"min": "0.00",
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(rbs_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hde": {
										"hideWhenExpression": "isEmpty(rbs_test)"
									}
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "FBS mmol/L:",
							"id": "fbs_test",
							"type": "obs",
							"questionOptions": {
								"concept": "a8b018fe-1350-11df-a1f1-0026b9348838",
								"answers": [],
								"rendering": "decimal",
								"max": "50.00",
								"min": "0.00",
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(fbs_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hde": {
										"hideWhenExpression": "isEmpty(fbs_test)"
									}
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "HbA1C %:",
							"id": "a1c_test",
							"type": "obs",
							"questionOptions": {
								"concept": "a8af7520-1350-11df-a1f1-0026b9348838",
								"answers": [],
								"rendering": "decimal",
								"max": "20.00",
								"min": "0.00",
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(a1c_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hde": {
										"hideWhenExpression": "isEmpty(a1c_test)"
									}
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "LDL mmol/L:",
							"id": "ldl_test",
							"type": "obs",
							"questionOptions": {
								"concept": "a898e74c-1350-11df-a1f1-0026b9348838",
								"answers": [],
								"rendering": "decimal",
								"max": "75.00",
								"min": "0.00",
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(ldl_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hde": {
										"hideWhenExpression": "isEmpty(ldl_test)"
									}
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "HDL mmol/L:",
							"id": "hdl_test",
							"type": "obs",
							"questionOptions": {
								"concept": "a898e602-1350-11df-a1f1-0026b9348838",
								"answers": [],
								"rendering": "decimal",
								"max": "15.00",
								"min": "0.00",
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(hdl_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hde": {
										"hideWhenExpression": "isEmpty(hdl_test)"
									}
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "TG mmol/L:",
							"id": "tg_test",
							"type": "obs",
							"questionOptions": {
								"concept": "a898e8a0-1350-11df-a1f1-0026b9348838",
								"answers": [],
								"rendering": "decimal",
								"max": "55.00",
								"min": "0.00",
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(tg_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hde": {
										"hideWhenExpression": "isEmpty(tg_test)"
									}
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "Cholesterol mmol/L:",
							"id": "chol_test",
							"type": "obs",
							"questionOptions": {
								"concept": "a898e4b8-1350-11df-a1f1-0026b9348838",
								"answers": [],
								"rendering": "decimal",
								"max": "100.00",
								"min": "0.00",
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(chol_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hde": {
										"hideWhenExpression": "isEmpty(chol_test)"
									}
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "Microalbumin test, urine mg/L:",
							"id": "microAlb_test",
							"type": "obs",
							"questionOptions": {
								"concept": "7129af13-e39a-43b0-9923-6d1de22c9c5e",
								"answers": [],
								"rendering": "decimal",
								"max": "300.00",
								"min": "30.00",
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(microAlb_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hde": {
										"hideWhenExpression": "isEmpty(microAlb_test)"
									}
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "Urea mmol/L:",
							"id": "urea_test",
							"type": "obs",
							"questionOptions": {
								"concept": "a8982550-1350-11df-a1f1-0026b9348838",
								"answers": [],
								"rendering": "decimal",
								"max": "330.00",
								"min": "0.00",
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(urea_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hde": {
										"hideWhenExpression": "isEmpty(urea_test)"
									}
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						}
					]
				},
				{
					"label": "CBC",
					"questions": [
						{
							"label": "Hgb g/dL:",
							"id": "hgbgdl_test",
							"questionOptions": {
								"concept": "a8908a16-1350-11df-a1f1-0026b9348838",
								"max": "50.00",
								"min": "0.00",
								"showDate": "true",
								"rendering": "decimal",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(hgbgdl_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(hgbgdl_test)"
									}
								},
								"validators": [
									{
										"type": "decimal",
										"decimalPlace": 1
									}
								]
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "WBC/mm3:",
							"id": "testWBCmm",
							"questionOptions": {
								"concept": "a896dea2-1350-11df-a1f1-0026b9348838",
								"max": "500.00",
								"min": "0.00",
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(testWBCmm) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(testWBCmm)"
									}
								},
								"rendering": "decimal"
							},
							"type": "obs",
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"type": "obs",
							"label": "Platelets:",
							"id": "platelets_test",
							"questionOptions": {
								"concept": "a8970954-1350-11df-a1f1-0026b9348838",
								"rendering": "decimal",
								"max": "450000.00",
								"min": "0.00",
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(platelets_test) && isEmpty(myValue)",
											"message": "Date result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(platelets_test)"
									}
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "ALC/ mm3:",
							"id": "alcmm_test",
							"questionOptions": {
								"concept": "a898b20e-1350-11df-a1f1-0026b9348838",
								"max": "500.00",
								"min": "0.00",
								"showDate": "true",
								"rendering": "decimal",
								"shownDateOptions": {
									"historicalExpression": "HD.getObject('prevEnc').getValue('a8afdb8c-1350-11df-a1f1-0026b9348838.a898b20e-1350-11df-a1f1-0026b9348838')",
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(alcmm_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(alcmm_test)"
									}
								}
							},
							"type": "obs",
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						},
						{
							"label": "MCV:",
							"id": "mcv_test",
							"questionOptions": {
								"concept": "a898201e-1350-11df-a1f1-0026b9348838",
								"max": "500.00",
								"min": "0.00",
								"showDate": "true",
								"rendering": "decimal",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(mcv_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(mcv_test)"
									}
								}
							},
							"type": "obs",
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							]
						}
					]
				},
				{
					"label": "CD4",
					"questions": [
						{
							"type": "obs",
							"id": "cd4_test",
							"questionOptions": {
								"concept": "a8a8bb18-1350-11df-a1f1-0026b9348838",
								"showDate": "true",
								"rendering": "number",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(cd4_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(cd4_test)"
									}
								}
							},
							"label": "CD4 Count:",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"type": "obs",
							"label": "CD4 %:",
							"id": "cd4percent_test",
							"questionOptions": {
								"rendering": "decimal",
								"max": "100.00",
								"min": "0.00",
								"showDate": "true",
								"concept": "a8970a26-1350-11df-a1f1-0026b9348838",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(cd4percent_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(cd4percent_test)"
									}
								}
							},
							"validators": [
								{
									"type": "decimal",
									"decimalPlace": 1
								}
							],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						}
					]
				},
				{
					"label": "ART Drug Sensitivity Test",
					"questions": [
						{
							"label": "ART drug sensitivity test (Upload image of the result):",
							"id": "drugSensitivity_test",
							"questionOptions": {
								"concept": "8ec7c519-502e-46ea-8a98-181ed5a088be",
								"showDate": "true",
								"rendering": "file",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(drugSensitivity_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(drugSensitivity_test)"
									}
								}
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						}
					]
				},
				{
					"label": "Viral Load",
					"questions": [
						{
							"type": "obs",
							"label": "Viral load:",
							"id": "viralLoad_test",
							"questionOptions": {
								"concept": "a8982474-1350-11df-a1f1-0026b9348838",
								"rendering": "number",
								"max": "10000000",
								"min": "0",
								"showDate": "true",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(viralLoad_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(viralLoad_test)"
									}
								}
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						}
					]
				},
				{
					"label": "Urinalysis",
					"questions": [
						{
							"label": "Urinalysis test done:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "7e760f32-6bee-4a61-a233-e813911f62e4",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"id": "urinalysisdone"
						},
						{
							"label": "Urinalysis:",
							"type": "obsGroup",
							"questionOptions": {
								"rendering": "group",
								"concept": "a894590c-1350-11df-a1f1-0026b9348838"
							},
							"id": "urinalysis",
							"questions": [
								{
									"label": "Urine microscopy:",
									"type": "obs",
									"questionOptions": {
										"rendering": "text",
										"concept": "a890a7e4-1350-11df-a1f1-0026b9348838"
									},
									"id": "urineMiscroscopy"
								},
								{
									"label": "Urine leukocyte esterase test:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "a8b0f3e6-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
												"label": "Negative"
											},
											{
												"concept": "569f77cc-87b2-442c-a871-3a96e2194e8f",
												"label": "Trace"
											},
											{
												"concept": "a8a45ab4-1350-11df-a1f1-0026b9348838",
												"label": "One plus (+)"
											},
											{
												"concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
												"label": "Two plus (++)"
											},
											{
												"concept": "a8a1909a-1350-11df-a1f1-0026b9348838",
												"label": "Three plus (+++)"
											}
										]
									},
									"id": "urineLeukocyte"
								},
								{
									"label": "Urinary albumin:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "a8a47ca6-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
												"label": "Negative"
											},
											{
												"concept": "569f77cc-87b2-442c-a871-3a96e2194e8f",
												"label": "Trace-15"
											},
											{
												"concept": "a8a45ab4-1350-11df-a1f1-0026b9348838",
												"label": "One plus(+)-30"
											},
											{
												"concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
												"label": "Two plus (++)-200"
											},
											{
												"concept": "a8a1909a-1350-11df-a1f1-0026b9348838",
												"label": "Three plus (+++) - 300"
											},
											{
												"concept": "42b9eb07-2272-407d-9fba-e69f3e2bebfd",
												"label": "Four plus (++++) - 1000"
											}
										]
									},
									"id": "urinaryAlbumin"
								},
								{
									"label": "Urinary ketone:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "b72fa772-19a9-4386-8185-6491ab97e97e",
										"answers": [
											{
												"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
												"label": "Negative"
											},
											{
												"concept": "569f77cc-87b2-442c-a871-3a96e2194e8f",
												"label": "Trace-5"
											},
											{
												"concept": "a8a45ab4-1350-11df-a1f1-0026b9348838",
												"label": "One plus(+)-15"
											},
											{
												"concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
												"label": "Two plus (++)-50"
											},
											{
												"concept": "a8a1909a-1350-11df-a1f1-0026b9348838",
												"label": "Three plus (+++) - 150"
											}
										]
									},
									"id": "urinaryKetone"
								},
								{
									"label": "Glucose measurement (Qualitative):",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "6b627304-97a1-4eb9-8c0d-3bc84d05be84",
										"answers": [
											{
												"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
												"label": "Negative"
											},
											{
												"concept": "569f77cc-87b2-442c-a871-3a96e2194e8f",
												"label": "Trace"
											},
											{
												"concept": "a8a45ab4-1350-11df-a1f1-0026b9348838",
												"label": "One plus(+)"
											},
											{
												"concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
												"label": "Two plus (++)"
											},
											{
												"concept": "a8a1909a-1350-11df-a1f1-0026b9348838",
												"label": "Three plus (+++)"
											},
											{
												"concept": "42b9eb07-2272-407d-9fba-e69f3e2bebfd",
												"label": "Four plus (++++)"
											}
										]
									},
									"id": "glucoseMeasurement"
								},
								{
									"label": "Urine bile salt test:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "9e2fab9c-c3f6-4a33-8375-21b12a4cd424",
										"answers": [
											{
												"concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
												"label": "Normal"
											},
											{
												"concept": "569f77cc-87b2-442c-a871-3a96e2194e8f",
												"label": "Trace-1"
											},
											{
												"concept": "a8a45ab4-1350-11df-a1f1-0026b9348838",
												"label": "One plus(+)"
											},
											{
												"concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
												"label": "Two plus (++)"
											},
											{
												"concept": "a8a1909a-1350-11df-a1f1-0026b9348838",
												"label": "Three plus (+++)"
											}
										]
									},
									"id": "urineBile"
								},
								{
									"label": "Urine PH:",
									"type": "obs",
									"questionOptions": {
										"rendering": "number",
										"concept": "9aa18e19-ea39-4327-967b-1bf4c64698b4",
										"max": "14",
										"min": "0"
									},
									"id": "urinePh"
								},
								{
									"label": "Urine bile pigment test:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "2e9cc4f7-7edf-49fa-803f-b13ee6d767fd",
										"answers": [
											{
												"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
												"label": "Negative"
											},
											{
												"concept": "a8a45ab4-1350-11df-a1f1-0026b9348838",
												"label": "One plus(+)"
											},
											{
												"concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
												"label": "Two plus (++)"
											},
											{
												"concept": "a8a1909a-1350-11df-a1f1-0026b9348838",
												"label": "Three plus (+++)"
											}
										]
									},
									"id": "urinebilePigment"
								},
								{
									"label": "Urine specific gravity:",
									"type": "obs",
									"questionOptions": {
										"rendering": "number",
										"concept": "2124717e-3b0d-44ee-bf8a-d97ef103d5c8",
										"max": "1.1",
										"min": "1.0"
									},
									"id": "specificGravity"
								},
								{
									"label": "Urine color:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "d2c8a492-bbec-4609-878d-fc0e5e020bcf",
										"answers": [
											{
												"concept": "848de614-1c21-4d5b-805c-cadd9c5fb1b3",
												"label": "Colourless"
											},
											{
												"concept": "887adc2f-7e80-46e7-acb6-3b41a6066801",
												"label": "Red color"
											},
											{
												"concept": "8d32073f-11f8-4cb1-a75a-739804b03345",
												"label": "Light yellow color"
											},
											{
												"concept": "3229c645-16e1-41ac-9373-0346ebc85716",
												"label": "Yellow green color"
											},
											{
												"concept": "ef094f6a-82f6-4d1d-afe4-26e61b1c970f",
												"label": "Dark yellow color"
											},
											{
												"concept": "9cf42ab8-d393-4fda-80e4-024cfb515865",
												"label": "Brown color"
											}
										]
									},
									"id": "urineColor"
								},
								{
									"label": "Urine nitrite test:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "6ab44394-80a5-40cd-9649-32f1839e94cd",
										"answers": [
											{
												"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
												"label": "Positive"
											},
											{
												"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
												"label": "Negative"
											},
											{
												"concept": "a8a45ab4-1350-11df-a1f1-0026b9348838",
												"label": "One plus (+)"
											},
											{
												"concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
												"label": "Two plus (++)"
											}
										]
									},
									"id": "urineNitrite"
								},
								{
									"label": "Urine turbidity:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "aaf8ed2c-df86-401d-9228-6a06451acdab",
										"answers": [
											{
												"concept": "8f6ef118-0bc9-4cf0-804d-106c33c55f26",
												"label": "Urine appears clear"
											},
											{
												"concept": "3c68aab3-ce07-4c55-8775-05c6ff62b1e8",
												"label": "Cloudy urine"
											},
											{
												"concept": "14111daa-8536-42c4-94c6-c80c82e18ac7",
												"label": "Urine appears turbid"
											}
										]
									},
									"id": "urineTurbidity"
								},
								{
									"label": "Urine dipstick for blood:",
									"type": "obs",
									"questionOptions": {
										"rendering": "select",
										"concept": "1a2012cc-30f2-4cbd-b8d6-3191e4b60ea8",
										"answers": [
											{
												"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
												"label": "Negative"
											},
											{
												"concept": "569f77cc-87b2-442c-a871-3a96e2194e8f",
												"label": "Trace"
											},
											{
												"concept": "a8a45ab4-1350-11df-a1f1-0026b9348838",
												"label": "One plus 1(+)"
											},
											{
												"concept": "a8a18fdc-1350-11df-a1f1-0026b9348838",
												"label": "Two plus (++)"
											},
											{
												"concept": "a8a1909a-1350-11df-a1f1-0026b9348838",
												"label": "Three plus (+++)"
											}
										]
									},
									"id": "urineDistick"
								}
							]
						}
					]
				},
				{
					"label": "Blood Grouping",
					"questions": [
						{
							"label": "Blood group done:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "26551264-88cd-4b2e-97b6-b8e1ab9a6ebf",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"id": "bgdone"
						},
						{
							"label": "Blood type:",
							"id": "bloodGroup_test",
							"questionOptions": {
								"concept": "a8945754-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a896e8c0-1350-11df-a1f1-0026b9348838",
										"label": "A positive"
									},
									{
										"concept": "a896ea6e-1350-11df-a1f1-0026b9348838",
										"label": "A negative"
									},
									{
										"concept": "a896ec1c-1350-11df-a1f1-0026b9348838",
										"label": "B positive"
									},
									{
										"concept": "a896edca-1350-11df-a1f1-0026b9348838",
										"label": "B negative"
									},
									{
										"concept": "a896f04a-1350-11df-a1f1-0026b9348838",
										"label": "O positive"
									},
									{
										"concept": "a896f1f8-1350-11df-a1f1-0026b9348838",
										"label": "O negative"
									},
									{
										"concept": "a89b47a8-1350-11df-a1f1-0026b9348838",
										"label": "AB positive"
									},
									{
										"concept": "a89b48de-1350-11df-a1f1-0026b9348838",
										"label": "AB negative"
									},
									{
										"concept": "33bc1cf5-4ae5-49ba-9afd-bcbb9f7b09e5",
										"label": "A"
									},
									{
										"concept": "01e7f790-a8fc-40e9-968f-c9d79924eb6d",
										"label": "B"
									},
									{
										"concept": "0feab44f-6777-4c4b-a3ed-a3502f996fcb",
										"label": "AB"
									},
									{
										"concept": "bf9a31dc-5db4-49c2-aad2-30ec16315b24",
										"label": "O"
									}
								],
								"showDate": "true",
								"rendering": "select",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(bloodGroup_test) && isEmpty(myValue)",
											"message": "Date result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(bloodGroup_test)"
									}
								}
							},
							"type": "obs",
							"validators": []
						}
					]
				},
				{
					"label": "TB Test",
					"questions": [
						{
							"label": "Genexpert test (Upload image of the result):",
							"id": "genexpert_test",
							"questionOptions": {
								"concept": "6fa355eb-9321-4850-884c-12594194862a",
								"showDate": "true",
								"rendering": "file",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(genexpert_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(genexpert_test)"
									}
								}
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Sputum gene xpert MTB:",
							"id": "sputumgene_test",
							"questionOptions": {
								"concept": "741517cf-8bac-4755-b289-8dd2a2df7962",
								"answers": [
									{
										"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
										"label": "Positive"
									},
									{
										"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
										"label": "Negative"
									},
									{
										"concept": "a89a7ae4-1350-11df-a1f1-0026b9348838",
										"label": "Indeterminate"
									},
									{
										"concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
										"label": "Poor sample quality"
									}
								],
								"showDate": "true",
								"rendering": "select",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(sputumgene_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(sputumgene_test)"
									}
								}
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Sputum AFB smear:",
							"id": "sputumafp_test",
							"questionOptions": {
								"concept": "a8945d4e-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a8a45ab4-1350-11df-a1f1-0026b9348838",
										"label": "1+"
									},
									{
										"concept": "a8a45bd6-1350-11df-a1f1-0026b9348838",
										"label": "2+"
									},
									{
										"concept": "a8a45ca8-1350-11df-a1f1-0026b9348838",
										"label": "3+"
									},
									{
										"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
										"label": "Positive"
									},
									{
										"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
										"label": "Negative"
									},
									{
										"concept": "a89a7ae4-1350-11df-a1f1-0026b9348838",
										"label": "Indeterminate"
									},
									{
										"concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
										"label": "Poor sample quality"
									}
								],
								"showDate": "true",
								"rendering": "select",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(sputumafp_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(sputumafp_test)"
									}
								}
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "Sputum culture:",
							"id": "sputumculture_test",
							"questionOptions": {
								"concept": "a8a462a2-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
										"label": "Positive"
									},
									{
										"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
										"label": "Negative"
									},
									{
										"concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
										"label": "Poor sample quality"
									},
									{
										"concept": "0b4e9aa1-e470-46d1-9d2d-0d8a475561b9",
										"label": "Mycobacterium tuberculosis"
									},
									{
										"concept": "a01149c4-7f0e-4d27-8f42-dc019e3330ec",
										"label": "Non tuberculosis mycobacteria"
									}
								],
								"showDate": "true",
								"rendering": "select",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(sputumculture_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(sputumculture_test)"
									}
								}
							},
							"type": "obs",
							"validators": []
						},
						{
							"label": "TST (Mantoux test):",
							"id": "tst_test",
							"questionOptions": {
								"concept": "a89d278a-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
										"label": "Positive"
									},
									{
										"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
										"label": "Negative"
									},
									{
										"concept": "a89d2852-1350-11df-a1f1-0026b9348838",
										"label": "Strongly positive"
									}
								],
								"showDate": "true",
								"rendering": "select",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(tst_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(tst_test)"
									}
								}
							},
							"type": "obs",
							"validators": []
						}
					]
				},
				{
					"label": "Chest Xray",
					"questions": [
						{
							"label": "CXR code:",
							"id": "cxrcode_test",
							"questionOptions": {
								"concept": "a8908192-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
										"label": "Normal"
									},
									{
										"concept": "a8a6aa3a-1350-11df-a1f1-0026b9348838",
										"label": "Cardiomegaly"
									},
									{
										"concept": "a8ae8c1e-1350-11df-a1f1-0026b9348838",
										"label": "Cavitary"
									},
									{
										"concept": "a8ae8a66-1350-11df-a1f1-0026b9348838",
										"label": "Diffuse abn/non-miliary"
									},
									{
										"concept": "a8ae8980-1350-11df-a1f1-0026b9348838",
										"label": "Infiltrate"
									},
									{
										"concept": "a89a77ce-1350-11df-a1f1-0026b9348838",
										"label": "Miliary"
									},
									{
										"concept": "a89a76fc-1350-11df-a1f1-0026b9348838",
										"label": "PI effusion"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								],
								"showDate": "true",
								"rendering": "select",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(cxrcode_test) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(cxrcode_test)"
									}
								}
							},
							"type": "obs",
							"validators": []
						}
					]
				},
				{
					"label": "Ultrasound",
					"questions": [
						{
							"label": "Obstetric ultrasound:",
							"id": "ultrasound",
							"questionOptions": {
								"concept": "a8aff48c-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899e7b4-1350-11df-a1f1-0026b9348838",
										"label": "Normal"
									},
									{
										"concept": "a899e890-1350-11df-a1f1-0026b9348838",
										"label": "Abnormal"
									}
								],
								"showDate": "true",
								"rendering": "select",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(ultrasound) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(ultrasound)"
									}
								}
							},
							"type": "obs",
							"validators": []
						}
					]
				},
				{
					"label": "Other Tests",
					"questions": [
						{
							"label": "Syphilis serology:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8945678-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a89b3b8c-1350-11df-a1f1-0026b9348838",
										"label": "Non reactive"
									},
									{
										"concept": "a89b3ab0-1350-11df-a1f1-0026b9348838",
										"label": "Reactive"
									},
									{
										"concept": "a89c2268-1350-11df-a1f1-0026b9348838",
										"label": "Requested"
									},
									{
										"concept": "a899ea48-1350-11df-a1f1-0026b9348838",
										"label": "Not tested"
									},
									{
										"concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
										"label": "Poor sample quality"
									}
								]
							},
							"id": "syphillisSerology"
						},
						{
							"label": "Has the client been treated for syphilis?",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "f555d446-93e1-49ef-ba85-05962ee5ef48",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": "syphillisSerology !== 'a89b3ab0-1350-11df-a1f1-0026b9348838'"
							},
							"id": "syphTreated"
						},
						{
							"label": "BS for MPS:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8909524-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
										"label": "Positive"
									},
									{
										"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
										"label": "Negative"
									}
								]
							},
							"id": "bsMps"
						}
					]
				}
			]
		},
		{
			"label": "Assessment",
			"sections": [
				{
					"label": "Clinical Notes",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Please enter the clinical notes below:",
							"type": "obs",
							"id": "assNote",
							"default": "",
							"questionOptions": {
								"concept": "23f710cc-7f9c-4255-9b6b-c3e240215dba",
								"rendering": "textarea",
								"rows": 5
							}
						}
					]
				}
			]
		},
		{
			"label": "Medication Plan",
			"sections": [
				{
					"label": "ART Plan",
					"isExpanded": "true",
					"questions": [
						{
							"required": "true",
							"id": "arvPlan",
							"label": "ART plan:",
							"questionOptions": {
								"concept": "a89b75d4-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a89b7908-1350-11df-a1f1-0026b9348838",
										"label": "Continue regimen"
									},
									{
										"concept": "a898c938-1350-11df-a1f1-0026b9348838",
										"label": "Change dose"
									},
									{
										"concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
										"label": "Change regimen"
									},
									{
										"concept": "a89b7ae8-1350-11df-a1f1-0026b9348838",
										"label": "Change formulation"
									},
									{
										"concept": "a8a00158-1350-11df-a1f1-0026b9348838",
										"label": "Drug substitution"
									},
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "Not on ARVS"
									},
									{
										"concept": "a8a00220-1350-11df-a1f1-0026b9348838",
										"label": "Restart"
									},
									{
										"concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
										"label": "Start ARVs"
									},
									{
										"concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
										"label": "Stop all"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(onArt) && onArt === 'a899b35c-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
									"message": "Patient marked as on ART in ART History section. Therefore plan can only be drug substitution, continue regimen, change dose, chage regimen, change"
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(onArt) && onArt === 'a899b42e-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
									"message": "Patient marked as not on ART in ART History section. Therefore plan can only be None,Start"
								}
							],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Reason to start ART:",
							"id": "arvStartReason",
							"questionOptions": {
								"concept": "a89b6ce2-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "c9778159-958b-4f59-9053-a6171074726f",
										"label": "CD4 less than 500"
									},
									{
										"concept": "a8af49d8-1350-11df-a1f1-0026b9348838",
										"label": "Discordant couple"
									},
									{
										"concept": "a89b27be-1350-11df-a1f1-0026b9348838",
										"label": "WHO stage 3"
									},
									{
										"concept": "a89b289a-1350-11df-a1f1-0026b9348838",
										"label": "WHO stage 4"
									},
									{
										"concept": "a89fbedc-1350-11df-a1f1-0026b9348838",
										"label": "PMTCT"
									},
									{
										"concept": "a8909060-1350-11df-a1f1-0026b9348838",
										"label": "Hepatitis"
									},
									{
										"concept": "7fa72118-ef2a-4694-993a-014440024bbc",
										"label": "Test and treat"
									},
									{
										"concept": "67f1f202-477a-4469-a2f9-769b339f682f",
										"label": "Adherence counselling completed"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(arvPlan) && isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)",
									"message": "You indicated patient is (re)starting ART. Please provide reason."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(arvPlan) && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)",
									"message": "You indicated patient is not (re)starting ART, therefore no reason for starting should be selected."
								}
							],
							"hide": {
								"hideWhenExpression": "!arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)"
							}
						},
						{
							"type": "obsGroup",
							"label": "ART change reason",
							"questionOptions": {
								"concept": "a8a07688-1350-11df-a1f1-0026b9348838",
								"rendering": "group"
							},
							"questions": [
								{
									"id": "arvChangeReason",
									"label": "Reason for stopping/change/substitution/interruption:",
									"questionOptions": {
										"concept": "a89b7110-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a89ce50e-1350-11df-a1f1-0026b9348838",
												"label": "Adherence concerns"
											},
											{
												"concept": "a8981934-1350-11df-a1f1-0026b9348838",
												"label": "Clinical treatment failure"
											},
											{
												"concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
												"label": "Drug out of stock"
											},
											{
												"concept": "a890a96a-1350-11df-a1f1-0026b9348838",
												"label": "Due to new TB"
											},
											{
												"concept": "057dae68-3d6f-4d79-926c-ed75a0ce7fd5",
												"label": "Illness/hospitalization"
											},
											{
												"concept": "c6537e06-9fc2-47da-b679-e2a32824407f",
												"label": "Immunologic failure"
											},
											{
												"concept": "a8a6f56c-1350-11df-a1f1-0026b9348838",
												"label": "Lost to follow-up"
											},
											{
												"concept": "a8a07b10-1350-11df-a1f1-0026b9348838",
												"label": "New drug available"
											},
											{
												"concept": "a8b03af0-1350-11df-a1f1-0026b9348838",
												"label": "Patient lacks finances"
											},
											{
												"concept": "abe0cbb6-8d08-487a-b18e-7af873945fcc",
												"label": "Planned Rx interruption"
											},
											{
												"concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
												"label": "Pill burden"
											},
											{
												"concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
												"label": "Changing to adult regimen"
											},
											{
												"concept": "a8909e8e-1350-11df-a1f1-0026b9348838",
												"label": "Pregnancy"
											},
											{
												"concept": "e38b3e51-8a27-4bf6-b0c8-e0b285e4bb2f",
												"label": "Risk of pregnancy"
											},
											{
												"concept": "4ee08cb4-fc93-44a0-a330-4e3fb45ca625",
												"label": "Optimization"
											},
											{
												"concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
												"label": "Toxicity"
											},
											{
												"concept": "93fe19e8-fec4-4e4b-85f1-239e1fabd761",
												"label": "Virologic failure"
											},
											{
												"concept": "5d08b98f-5123-4d6d-9972-825b6aa2f4ed",
												"label": "Fanconi syndrome"
											},
											{
												"concept": "a8a058ce-1350-11df-a1f1-0026b9348838",
												"label": "Renal failure"
											},
											{
												"concept": "a89dca46-1350-11df-a1f1-0026b9348838",
												"label": "Osteopenia/Osteoporosis"
											},
											{
												"concept": "a898d478-1350-11df-a1f1-0026b9348838",
												"label": "Age >60 years"
											},
											{
												"concept": "a89d25fa-1350-11df-a1f1-0026b9348838",
												"label": "Other patient desicion"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(arvPlan) && isEmpty(myValue) && arrayContains(['a898c938-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], arvPlan)",
											"message": "You indicated patient is changing/changing dose/substituting/stopping arvs, reason for changing should be selected."
										}
									],
									"hide": {
										"hideWhenExpression": "!arrayContains(['a898c938-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], arvPlan)"
									}
								},
								{
									"id": "arvToxicityCause",
									"label": "If toxicity, please provide cause:",
									"questionOptions": {
										"concept": "a8a032fe-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
												"label": "Anaemia"
											},
											{
												"concept": "a8909060-1350-11df-a1f1-0026b9348838",
												"label": "Hepatitis"
											},
											{
												"concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
												"label": "IRIS"
											},
											{
												"concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
												"label": "Lactic acidosis"
											},
											{
												"concept": "a89cee50-1350-11df-a1f1-0026b9348838",
												"label": "Lipo-dystrophy"
											},
											{
												"concept": "a897fe86-1350-11df-a1f1-0026b9348838",
												"label": "Neuropathy"
											},
											{
												"concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
												"label": "Persistent vomiting"
											},
											{
												"concept": "a895776a-1350-11df-a1f1-0026b9348838",
												"label": "Rash"
											},
											{
												"concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
												"label": "Steven-Johnson syndrome"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(arvChangeReason)&&isEmpty(myValue) && (arvChangeReason==='a890d1ba-1350-11df-a1f1-0026b9348838')",
											"message": "You indicated patient is changing /changing dose/substituting/stopping arvs due to toxicity, cause should be selected."
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(arvChangeReason) && !isEmpty(myValue) && (arvChangeReason!=='a890d1ba-1350-11df-a1f1-0026b9348838')",
											"message": "You indicated patient is not changing/dose/substituting/stopping arvs due to toxicity, cause should be selected."
										}
									],
									"hide": {
										"hideWhenExpression": "arvChangeReason!=='a890d1ba-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"label": "If toxicity: Other (specify):",
									"id": "arvToxOther",
									"type": "obs",
									"questionOptions": {
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
										"rendering": "text"
									},
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(arvToxicityCause) && isEmpty(myValue) && (arvToxicityCause==='a8aaf3e2-1350-11df-a1f1-0026b9348838')",
											"message": "You indicated patient is changing /changing dose/substituting/stopping arvs due to other toxicity, indicate the other cause."
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(arvToxicityCause) && !isEmpty(myValue) && (arvToxicityCause!=='a8aaf3e2-1350-11df-a1f1-0026b9348838')",
											"message": "You indicated patient is not changing /changing dose/substituting/stopping arvs due to other toxicity, other cause is not required."
										}
									],
									"hide": {
										"hideWhenExpression": "arvToxicityCause!=='a8aaf3e2-1350-11df-a1f1-0026b9348838'"
									}
								}
							],
							"id": "__FFGzFKFsJ"
						},
						{
							"type": "obsGroup",
							"label": "Eligible for ART",
							"questionOptions": {
								"concept": "a8a17a7e-1350-11df-a1f1-0026b9348838",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Eligible for ART but not started:",
									"id": "artEligibleNotStarted",
									"questionOptions": {
										"concept": "a89d26cc-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a89ce50e-1350-11df-a1f1-0026b9348838",
												"label": "Adherence concerns"
											},
											{
												"concept": "a8a8b26c-1350-11df-a1f1-0026b9348838",
												"label": "On TB treatment"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											},
											{
												"concept": "a89d25fa-1350-11df-a1f1-0026b9348838",
												"label": "Patient refused"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "arvPlan !== 'a899e0ac-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"label": "Eligible for ART but not started: Other (specify):",
									"questionOptions": {
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
										"rendering": "text"
									},
									"type": "obs",
									"id": "eligibleOther",
									"validators": [],
									"hide": {
										"hideWhenExpression": "artEligibleNotStarted !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
									}
								}
							],
							"id": "__LoozHL7xL"
						},
						{
							"label": "Plan treatment categories:",
							"type": "obs",
							"id": "planCate",
							"questionOptions": {
								"concept": "74e3b23f-b94f-49d9-a237-6baaee73f163",
								"answers": [
									{
										"concept": "034047bd-3fa1-4b2a-b0f0-2787e9b9f7b3",
										"label": "First line regimen"
									},
									{
										"concept": "8f8a715d-e49a-4b2c-aa3a-83fa9d7a4254",
										"label": "Second line regimen"
									},
									{
										"concept": "a90ebdd2-351f-485a-b850-4938fcca2729",
										"label": "Third line regimen"
									}
								],
								"rendering": "select"
							},
							"hide": {
								"hideWhenExpression": "!arrayContains(['a89b7ae8-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a8a00220-1350-11df-a1f1-0026b9348838'],arvPlan)"
							}
						},
						{
							"label": "ART regimen started, adult:",
							"id": "artStartedAdult",
							"questionOptions": {
								"concept": "a89b6a62-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "18e86e1f-92b8-40cd-8266-0df0ab0a4a50",
										"label": "DTG50mg/3TC300mg/TDF300mg"
									},
									{
										"concept": "a55fcb21-8ca5-4369-9807-2ce212e00377",
										"label": "TAF25mg/3TC300mg/DTG50mg"
									},
									{
										"concept": "1c4a75d0-cc91-4752-b0a5-4b833326ff7a",
										"label": "TDF300mg/3TC300mg/EFV600mg"
									},
									{
										"concept": "ea501f4e-cbc5-4942-b9c8-0ac415929f08",
										"label": "TDF300mg/3TC300mg/EFV400mg"
									},
									{
										"concept": "e78843da-fdb6-446d-8e99-873c278b3540",
										"label": "ABC600mg/3TC300mg"
									},
									{
										"concept": "6a73f32d-1870-4527-af6e-74443251ded2",
										"label": "NVP200/ZDV300/3TC150"
									},
									{
										"concept": "a89cc876-1350-11df-a1f1-0026b9348838",
										"label": "3TC300mg/TDF300mg"
									},
									{
										"concept": "a896758e-1350-11df-a1f1-0026b9348838",
										"label": "3TC150mg/ZDV300mg"
									},
									{
										"concept": "a8afcf84-1350-11df-a1f1-0026b9348838",
										"label": "Emtri200mg/TDF300(Truvada)"
									},
									{
										"concept": "a897e7c0-1350-11df-a1f1-0026b9348838",
										"label": "Aluvia(Kaletra)200mg/LPV50mg"
									},
									{
										"concept": "a8afc066-1350-11df-a1f1-0026b9348838",
										"label": "Atazanavir300/Ritonavir100"
									},
									{
										"concept": "dabf36cb-dd9a-4542-a8ef-874c1ee5be4a",
										"label": "FTC200mg/RPV25mg/TDF245mg(Eviplera)"
									},
									{
										"concept": "51669635-73b7-41fe-b215-33eefc9105f3",
										"label": "Cabotegravir 600mg/Rilpivirine 900mg IM"
									},
									{
										"concept": "98b0baf6-0b73-4429-9264-6233684b0969",
										"label": "Dolutegravir 50mg"
									},
									{
										"concept": "8fa45026-3de4-42dc-ad95-689f64c5286b",
										"label": "Tenofovir alafenamide 25mg"
									},
									{
										"concept": "a897f8a0-1350-11df-a1f1-0026b9348838",
										"label": "Abacavir300mg"
									},
									{
										"concept": "db3c194b-3e1b-4001-9a1c-a5df1728fc28",
										"label": "Efavirenz 200mg"
									},
									{
										"concept": "a89673f4-1350-11df-a1f1-0026b9348838",
										"label": "Lamivudine150mg"
									},
									{
										"concept": "a8afbd64-1350-11df-a1f1-0026b9348838",
										"label": "Raltegravir 400mg"
									},
									{
										"concept": "a897ea4a-1350-11df-a1f1-0026b9348838",
										"label": "Zidovudine300mg"
									},
									{
										"concept": "68a0a5dd-1e91-43a2-8dce-c6e84a14de04",
										"label": "Darunavir 600mg"
									},
									{
										"concept": "1baf254e-1429-4fd9-8db1-edf6523cea13",
										"label": " Ritonavir 100mg"
									},
									{
										"concept": "42ef7c4d-d6fb-49c0-a46e-019c42dea203",
										"label": " Ritonavir 80mg"
									},
									{
										"concept": "38fbba9c-4b26-412d-9659-8dd649514d66",
										"label": "Etravirine 100mg"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(arvPlan) && isEmpty(myValue) && arrayContains(['a89b7ae8-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)",
									"message": "Based on the plan selected, you must choose a regimen."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(myValue) && !arrayContains(['a89b7ae8-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a8a00220-1350-11df-a1f1-0026b9348838'], arvPlan)",
									"message": "Based on the plan selected, you may not choose a regimen."
								}
							],
							"hide": {
								"hideWhenExpression": "!arrayContains(['a89b7ae8-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a8a00220-1350-11df-a1f1-0026b9348838'],arvPlan)"
							}
						},
						{
							"label": "Indication for DTG based ART:",
							"historicalExpression": "_.isEmpty(HD.getObject('prevEnc').getValue('3c54aae1-8b94-49b5-9961-b6aa7cacc03b')) ? undefined : HD.getObject('prevEnc').getValue('3c54aae1-8b94-49b5-9961-b6aa7cacc03b')",
							"id": "dtgIndication",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "3c54aae1-8b94-49b5-9961-b6aa7cacc03b",
								"answers": [
									{
										"concept": "971e804e-89f1-41a2-9cfc-82922eed3db2",
										"label": "ART intiation"
									},
									{
										"concept": "c9072a63-0075-4f5a-81af-1439d803a510",
										"label": "Substitution for EFV intolerance/toxicity"
									},
									{
										"concept": "c3bfde9d-6f9c-4a92-ba74-bbf3af8c7061",
										"label": "Substitution for NVP"
									},
									{
										"concept": "a90ebdd2-351f-485a-b850-4938fcca2729",
										"label": "Third line regimen"
									},
									{
										"concept": "24d5c8f6-e92c-47fb-becb-9cfac89939c5",
										"label": "Substitution for ATV/r in PWID"
									},
									{
										"concept": "30c754b8-e20a-470b-a2cf-b6f1f92c733d",
										"label": "Substitution for PI/r in 2nd line with TB disease"
									},
									{
										"concept": "9af59394-f330-4616-b361-86642659808a",
										"label": "Alternative for virally suppressed 1st line PI/r based regimen"
									},
									{
										"concept": "0df1b558-9598-4ca4-9678-7a1caae6265f",
										"label": "Alternative regimen for pregnant/postpartum women"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								]
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(artStartedAdult) && arrayContains(artStartedAdult, '98b0baf6-0b73-4429-9264-6233684b0969')",
									"message": "DTG indication is required."
								}
							],
							"hide": {
								"hideWhenExpression": "isEmpty(artStartedAdult) || !arrayContains(artStartedAdult, '98b0baf6-0b73-4429-9264-6233684b0969')"
							}
						},
						{
							"label": "Other (specify):",
							"id": "otherDtgIndications",
							"type": "obs",
							"questionOptions": {
								"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
								"rendering": "text"
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": "dtgIndication !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
							}
						}
					]
				},
				{
					"label": "PCP Prophylaxis Plan",
					"isExpanded": "true",
					"questions": [
						{
							"required": "true",
							"id": "pcpProphylaxisPlan",
							"label": "PCP prophylaxis plan:",
							"questionOptions": {
								"concept": "a89b7e12-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a89b7908-1350-11df-a1f1-0026b9348838",
										"label": "Continue"
									},
									{
										"concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
										"label": "Change regimen"
									},
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "Not on PCP prophylaxis"
									},
									{
										"concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
										"label": "Start"
									},
									{
										"concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
										"label": "Stop"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(pcpProphylaxisCurrent) && !isEmpty(myValue) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'],myValue)&&(pcpProphylaxisCurrent==='a899e0ac-1350-11df-a1f1-0026b9348838')",
									"message": "Patient marked as not on PCP prophylaxis. Therefore plan can only be none or start."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(pcpProphylaxisCurrent) && !isEmpty(myValue) && arrayContains(['a8989396-1350-11df-a1f1-0026b9348838','a890c9e0-1350-11df-a1f1-0026b9348838'],pcpProphylaxisCurrent)&&!(arrayContains(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838','a89b7908-1350-11df-a1f1-0026b9348838'], myValue))",
									"message": "Patient marked as on PCP Prophylaxis. Therefore plan can only be change regimen,continue or stop."
								}
							],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"type": "obsGroup",
							"label": "PCP prophylaxis change reason",
							"questionOptions": {
								"concept": "a8a07750-1350-11df-a1f1-0026b9348838",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "If change/stop, reason:",
									"id": "pcpProphylaxisChangeReason",
									"questionOptions": {
										"concept": "a89b7eee-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
												"label": "Toxicity"
											},
											{
												"concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
												"label": "Pill burden"
											},
											{
												"concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
												"label": "Drug out of stock"
											},
											{
												"concept": "69db9a47-21c5-4398-89f7-1c03a1392240",
												"label": "Not elligible"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(pcpProphylaxisPlan) && isEmpty(myValue) && arrayContains(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan)",
											"message": "Patient changed drugs, please select reason."
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(pcpProphylaxisPlan) && !isEmpty(myValue) && (!arrayContains(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan))",
											"message": "Patient has not changed drugs, please do not select a reason."
										}
									],
									"hide": {
										"hideWhenExpression": "!arrayContains(['a89b7c50-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan)"
									}
								}
							],
							"id": "pcpReasonDetailed"
						},
						{
							"id": "pcpToxicityCause",
							"label": "If toxicity, please provide cause:",
							"questionOptions": {
								"concept": "a8a032fe-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
										"label": "Anaemia"
									},
									{
										"concept": "a8909060-1350-11df-a1f1-0026b9348838",
										"label": "Hepatitis"
									},
									{
										"concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
										"label": "IRIS"
									},
									{
										"concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
										"label": "Lactic acidosis"
									},
									{
										"concept": "a89cee50-1350-11df-a1f1-0026b9348838",
										"label": "Lipo-dystrophy"
									},
									{
										"concept": "a897fe86-1350-11df-a1f1-0026b9348838",
										"label": "Neuropathy"
									},
									{
										"concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
										"label": "Persistent vomiting"
									},
									{
										"concept": "a895776a-1350-11df-a1f1-0026b9348838",
										"label": "Rash"
									},
									{
										"concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
										"label": "Steven-johnson syndrome"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(pcpProphylaxisChangeReason) && isEmpty(myValue) && (pcpProphylaxisChangeReason==='a890d1ba-1350-11df-a1f1-0026b9348838')",
									"message": "You indicated patient is changing /changing dose/substituting/stopping PCP due to toxicity, cause should be selected."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(pcpProphylaxisChangeReason) && !isEmpty(myValue) && (pcpProphylaxisChangeReason!=='a890d1ba-1350-11df-a1f1-0026b9348838')",
									"message": "You indicated patient is not changing/dose/substituting/stopping PCP due to toxicity, cause should not be selected."
								}
							],
							"hide": {
								"hideWhenExpression": "pcpProphylaxisChangeReason !== 'a890d1ba-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "If toxicity, please provide cause: Other (specify):",
							"id": "q25OtherToxicity",
							"questionOptions": {
								"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
								"rendering": "text"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(pcpToxicityCause) && isEmpty(myValue) && pcpToxicityCause==='a8aaf3e2-1350-11df-a1f1-0026b9348838'",
									"message": "You indicated patient is changing /changing dose/substituting/stopping PCP due to other toxicity, indicate the other cause."
								}
							],
							"hide": {
								"hideWhenExpression": "pcpToxicityCause !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "If Start/Change, regimen:",
							"id": "pcpPlanMedication",
							"questionOptions": {
								"concept": "a89b82cc-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a8989396-1350-11df-a1f1-0026b9348838",
										"label": "Septrin"
									},
									{
										"concept": "a890c9e0-1350-11df-a1f1-0026b9348838",
										"label": "Dapsone 100mg"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(pcpProphylaxisPlan) && isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838', 'a89b7c50-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan)",
									"message": "You indicated patient is starting/continuing/changing PCP regimen. Please select regimen."
								}
							],
							"hide": {
								"hideWhenExpression": "!arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838', 'a89b7c50-1350-11df-a1f1-0026b9348838'], pcpProphylaxisPlan)"
							}
						}
					]
				},
				{
					"label": "TB Prophylaxis Plan",
					"isExpanded": "true",
					"questions": [
						{
							"label": "TB prophylaxis plan:",
							"required": "true",
							"id": "tbpropplan",
							"questionOptions": {
								"concept": "a89c1cfa-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "Not on TB prophylaxis"
									},
									{
										"concept": "a89b7908-1350-11df-a1f1-0026b9348838",
										"label": "Continue"
									},
									{
										"concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
										"label": "Start"
									},
									{
										"concept": "a8a00220-1350-11df-a1f1-0026b9348838",
										"label": "Restart"
									},
									{
										"concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
										"label": "Stop"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(onTbProphylaxis) && onTbProphylaxis === 'a899b35c-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838'], myValue)",
									"message": "Patient marked as on TB prophylaxis in History section. Therefore plan can only be continue ,stop"
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(onTbProphylaxis) && onTbProphylaxis === 'a899b42e-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
									"message": "Patient marked as not on TB prophylaxis in History section. Therefore plan can only be None,Start,Restart"
								}
							],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"type": "obsGroup",
							"label": "stopping reason",
							"questionOptions": {
								"concept": "a8a0780e-1350-11df-a1f1-0026b9348838",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "If stopping, reason:",
									"required": "true",
									"id": "tbpropreasonstop",
									"questionOptions": {
										"concept": "a89c1e12-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a890a96a-1350-11df-a1f1-0026b9348838",
												"label": "Active TB"
											},
											{
												"concept": "a89c1ef8-1350-11df-a1f1-0026b9348838",
												"label": "Completed"
											},
											{
												"concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
												"label": "Pill burden"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											},
											{
												"concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
												"label": "Toxicity"
											},
											{
												"concept": "a89eb744-1350-11df-a1f1-0026b9348838",
												"label": "Lack of drugs"
											},
											{
												"concept": "a89ce50e-1350-11df-a1f1-0026b9348838",
												"label": "Poor adherence"
											},
											{
												"concept": "a89eb8c0-1350-11df-a1f1-0026b9348838",
												"label": "Side effects (Adverse drug reaction)"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "tbpropplan !== 'a89b7d36-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"label": "If toxicity, please provide cause:",
									"id": "toxCause",
									"questionOptions": {
										"concept": "a8a032fe-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
												"label": "Anaemia"
											},
											{
												"concept": "a8909060-1350-11df-a1f1-0026b9348838",
												"label": "Hepatitis"
											},
											{
												"concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
												"label": "IRIS"
											},
											{
												"concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
												"label": "Lactic Acidosis"
											},
											{
												"concept": "a89cee50-1350-11df-a1f1-0026b9348838",
												"label": "Lipo-dystrophy"
											},
											{
												"concept": "a897fe86-1350-11df-a1f1-0026b9348838",
												"label": "Neuropathy"
											},
											{
												"concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
												"label": "Persistent vomiting"
											},
											{
												"concept": "a895776a-1350-11df-a1f1-0026b9348838",
												"label": "Rash"
											},
											{
												"concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
												"label": "Steven-Johnson syndrome"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "tbpropreasonstop !== 'a890d1ba-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"label": "If toxicity, please provide cause: Other (specify):",
									"id": "toxcauseOther",
									"questionOptions": {
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
										"rendering": "text"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "toxCause !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
									}
								}
							],
							"id": "__DM6tFuGJq"
						},
						{
							"label": "TB prophylaxis regimen started:",
							"questionOptions": {
								"concept": "a89b83bc-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "162724df-5a66-4ae3-bbf6-5dc6dbba4ebb",
										"label": "Isoniazid 100mg (6H)"
									},
									{
										"concept": "b150ccdc-e7ec-4f99-b592-6f3fa73b3aea",
										"label": "Isoniazid 300mg (6H)"
									},
									{
										"concept": "aeaed1af-5b0d-401e-a32a-e96cf4072ab5",
										"label": "Isoniazid 300mg and Rifapentine 300mg (3HP)"
									},
									{
										"concept": "177635d0-793b-4a66-8324-976c46f795af",
										"label": "Rifampicin 150mg and Isonaizid 75mg (3RH)"
									},
									{
										"concept": "e5e24e6d-e6b0-4c81-8f7b-0e366df29426",
										"label": "Rifampicin 70mg and Isonaizid 50mg (3RH)"
									}
								],
								"rendering": "select"
							},
							"id": "prophyReg",
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "!arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], tbpropplan)"
							}
						}
					]
				},
				{
					"label": "TB Treatment Plan",
					"isExpanded": "true",
					"questions": [
						{
							"label": "TB Treatment Started, detailed",
							"type": "obsGroup",
							"questionOptions": {
								"concept": "a89fe6f0-1350-11df-a1f1-0026b9348838",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "TB Treatment plan:",
									"id": "tbTreatmentPlan",
									"required": "true",
									"questionOptions": {
										"concept": "a89c1fd4-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
												"label": "Not on TB treatment"
											},
											{
												"concept": "a89b7908-1350-11df-a1f1-0026b9348838",
												"label": "Continue regimen"
											},
											{
												"concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
												"label": "Start induction"
											},
											{
												"concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
												"label": "Change to continuation"
											},
											{
												"concept": "a898c938-1350-11df-a1f1-0026b9348838",
												"label": "Re-dose"
											},
											{
												"concept": "a8a00158-1350-11df-a1f1-0026b9348838",
												"label": "Substitution"
											},
											{
												"concept": "a8a00220-1350-11df-a1f1-0026b9348838",
												"label": "Restart"
											},
											{
												"concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
												"label": "Stop"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(onTbTreatment) && onTbTreatment === 'a899b35c-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
											"message": "Patient marked as on TB in TB History section. Therefore plan can only be drug substitution, continue regimen, change dose, change regimen"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(onTbTreatment) && onTbTreatment === 'a899b42e-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], myValue)",
											"message": "Patient marked as not on TB in TB History section. Therefore plan can only be None, start"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(tbstatus) && tbstatus === 'a8af9046-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838'], myValue)",
											"message": "Patient marked as confirmed for TB in TB Screening section. Therefore plan can only start"
										}
									],
									"hide": {
										"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
									}
								}
							],
							"id": "tbStartedDetailed"
						},
						{
							"type": "obsGroup",
							"label": "TB Plan Change Reason",
							"questionOptions": {
								"concept": "a8a078cc-1350-11df-a1f1-0026b9348838",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "If plan is to stop/change/re-dose/substitute, reason:",
									"id": "tbPlanChangeReason",
									"questionOptions": {
										"concept": "a89c1fd4-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a89c1ef8-1350-11df-a1f1-0026b9348838",
												"label": "Completed"
											},
											{
												"concept": "c0c9eab3-46f6-453c-b29d-dc1c242317c5",
												"label": "Drug out of stock"
											},
											{
												"concept": "ecafa614-49c5-4eba-84c7-b85b0d9e2c46",
												"label": "Pill burden"
											},
											{
												"concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
												"label": "Changing to adult regimen"
											},
											{
												"concept": "a8909e8e-1350-11df-a1f1-0026b9348838",
												"label": "Pregnancy"
											},
											{
												"concept": "e38b3e51-8a27-4bf6-b0c8-e0b285e4bb2f",
												"label": "Risk of pregnancy"
											},
											{
												"concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
												"label": "Toxicity"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(tbTreatmentPlan) && isEmpty(myValue) && arrayContains(['a898c938-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)",
											"message": "You indicated patient is changing/changing dose/substituting/stopping TB, reason for changing should be selected."
										}
									],
									"hide": {
										"hideWhenExpression": "!arrayContains(['a898c938-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838','a89b7ae8-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a89b7d36-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)"
									}
								},
								{
									"label": "If toxicity, please provide cause:",
									"id": "tbToxicityCause",
									"questionOptions": {
										"concept": "a8a032fe-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a877c7f6-1350-11df-a1f1-0026b9348838",
												"label": "Anaemia"
											},
											{
												"concept": "a8909060-1350-11df-a1f1-0026b9348838",
												"label": "Hepatitis"
											},
											{
												"concept": "a89d0c0a-1350-11df-a1f1-0026b9348838",
												"label": "IRIS"
											},
											{
												"concept": "a8a01dfa-1350-11df-a1f1-0026b9348838",
												"label": "Lactic acidosis"
											},
											{
												"concept": "a89cee50-1350-11df-a1f1-0026b9348838",
												"label": "Lipo-dystrophy"
											},
											{
												"concept": "a897fe86-1350-11df-a1f1-0026b9348838",
												"label": "Neuropathy"
											},
											{
												"concept": "a8ad239c-1350-11df-a1f1-0026b9348838",
												"label": "Persistent vomiting"
											},
											{
												"concept": "a895776a-1350-11df-a1f1-0026b9348838",
												"label": "Rash"
											},
											{
												"concept": "a8a16d0e-1350-11df-a1f1-0026b9348838",
												"label": "Steven-Johnson syndrome"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(tbPlanChangeReason)&&isEmpty(myValue) && (tbPlanChangeReason==='a890d1ba-1350-11df-a1f1-0026b9348838')",
											"message": "You indicated patient is changing /changing dose/substituting/stopping arvs due to toxicity, cause should be selected."
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(tbPlanChangeReason) && !isEmpty(myValue) && (tbPlanChangeReason!=='a890d1ba-1350-11df-a1f1-0026b9348838')",
											"message": "You indicated patient is not changing/dose/substituting/stopping arvs due to toxicity, cause should be selected."
										}
									],
									"hide": {
										"hideWhenExpression": "tbPlanChangeReason !== 'a890d1ba-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"label": "If restarting, reason:",
									"id": "tbRestart",
									"type": "obs",
									"questionOptions": {
										"concept": "749d07cb-4994-4ce9-a39c-8a655a487fdd",
										"answers": [
											{
												"concept": "15316528-adb9-4c33-b21f-2817f0cad769",
												"label": "Defaulted"
											},
											{
												"concept": "f6951199-560d-414a-bb5b-1150f07fcea7",
												"label": "Failure"
											},
											{
												"concept": "a8a3243c-1350-11df-a1f1-0026b9348838",
												"label": "MDR TB regimen"
											},
											{
												"concept": "769822b2-1f1f-4cbb-8371-0e3949e060cc",
												"label": "New treatment"
											},
											{
												"concept": "18ac99bf-0805-4929-8d0b-924455850a00",
												"label": "Relapse/re-infection"
											}
										],
										"rendering": "select"
									},
									"validators": [
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(tbTreatmentPlan) && arrayContains(['a8a00220-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan) && isEmpty(myValue)",
											"message": "You indicated patient is restarting tb medication, therefore reason should be selected."
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "(isEmpty(tbTreatmentPlan) || !arrayContains(['a8a00220-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)) && !isEmpty(myValue)",
											"message": "You did not indicate restart tb medication, therefore reason should not be selected."
										}
									],
									"hide": {
										"hideWhenExpression": "!arrayContains(['a8a00220-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)"
									}
								}
							],
							"id": "__17v9MtI9u"
						},
						{
							"type": "obsGroup",
							"label": "tbMedPickupSite",
							"questionOptions": {
								"concept": "b55a6d42-3189-4d4c-97bf-772dfe17b887",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Site of TB meds pick-up:",
									"id": "tbMedPickupSite",
									"questionOptions": {
										"concept": "16db21cd-10cb-4c31-bb5a-b7619bfbea66",
										"answers": [
											{
												"concept": "a89c2f42-1350-11df-a1f1-0026b9348838",
												"label": "This AMPATH site"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "!arrayContains(['a89b7908-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)"
									}
								},
								{
									"label": "Other Specify:",
									"id": "medspickOther",
									"questionOptions": {
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
										"rendering": "text"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "tbMedPickupSite !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
									}
								}
							],
							"id": "__yoLD9MxMM"
						},
						{
							"label": "TB Treatment Started, detailed",
							"type": "obsGroup",
							"questionOptions": {
								"concept": "a89fe6f0-1350-11df-a1f1-0026b9348838",
								"rendering": "repeating"
							},
							"questions": [
								{
									"label": "TB regimen started:",
									"questionOptions": {
										"concept": "a89c218c-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a899f51a-1350-11df-a1f1-0026b9348838",
												"label": "RHZE"
											},
											{
												"concept": "a897d1a4-1350-11df-a1f1-0026b9348838",
												"label": "RHZ"
											},
											{
												"concept": "a8a382ba-1350-11df-a1f1-0026b9348838",
												"label": "RHE"
											},
											{
												"concept": "a89b1ca6-1350-11df-a1f1-0026b9348838",
												"label": "RH"
											},
											{
												"concept": "a899e19c-1350-11df-a1f1-0026b9348838",
												"label": "EH"
											},
											{
												"concept": "a8971c64-1350-11df-a1f1-0026b9348838",
												"label": "Ethambutol"
											},
											{
												"concept": "a8a3243c-1350-11df-a1f1-0026b9348838",
												"label": "MDR drugs"
											},
											{
												"concept": "a896cc00-1350-11df-a1f1-0026b9348838",
												"label": "INH"
											},
											{
												"concept": "a8ac5f2a-1350-11df-a1f1-0026b9348838",
												"label": "Pyrazinamide"
											},
											{
												"concept": "a8952e4a-1350-11df-a1f1-0026b9348838",
												"label": "Streptomycin"
											},
											{
												"concept": "b8aa06ca-93c6-40ea-b144-c74f841926f4",
												"label": "Rifabutin"
											},
											{
												"concept": "a897d0be-1350-11df-a1f1-0026b9348838",
												"label": "Rifampicin"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "select"
									},
									"id": "q26f",
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "!arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a89b7c50-1350-11df-a1f1-0026b9348838', 'a898c938-1350-11df-a1f1-0026b9348838','a8a00158-1350-11df-a1f1-0026b9348838','a8a00220-1350-11df-a1f1-0026b9348838'], tbTreatmentPlan)"
									}
								},
								{
									"label": "tabs/day:",
									"questionOptions": {
										"concept": "a8a07386-1350-11df-a1f1-0026b9348838",
										"max": "30",
										"min": "0",
										"rendering": "number"
									},
									"type": "obs",
									"hide": {
										"field": "q26f",
										"value": [
											"a899f51a-1350-11df-a1f1-0026b9348838",
											"a897d1a4-1350-11df-a1f1-0026b9348838",
											"a8a382ba-1350-11df-a1f1-0026b9348838"
										]
									},
									"id": "__EpKtsGqIx"
								},
								{
									"label": "mg:",
									"questionOptions": {
										"concept": "a8a063c8-1350-11df-a1f1-0026b9348838",
										"max": "2000",
										"min": "0",
										"rendering": "number"
									},
									"type": "obs",
									"hide": {
										"field": "q26f",
										"value": [
											"a899e19c-1350-11df-a1f1-0026b9348838",
											"a8ac5f2a-1350-11df-a1f1-0026b9348838",
											"a8952e4a-1350-11df-a1f1-0026b9348838"
										]
									},
									"id": "__DGLJxqzpy"
								},
								{
									"label": "mg/day:",
									"questionOptions": {
										"concept": "a8a0744e-1350-11df-a1f1-0026b9348838",
										"max": "2000",
										"min": "0",
										"rendering": "number"
									},
									"type": "obs",
									"hide": {
										"field": "q26f",
										"value": [
											"a896cc00-1350-11df-a1f1-0026b9348838",
											"a8971c64-1350-11df-a1f1-0026b9348838"
										]
									},
									"id": "__DKHJspsLu"
								},
								{
									"label": "tabs:",
									"questionOptions": {
										"concept": "a8a0630a-1350-11df-a1f1-0026b9348838",
										"max": "180",
										"min": "0",
										"rendering": "number"
									},
									"type": "obs",
									"hide": {
										"field": "q26f",
										"value": [
											"b8aa06ca-93c6-40ea-b144-c74f841926f4"
										]
									},
									"id": "__yqHnx8oJx"
								}
							],
							"id": "__yzEyrKznM"
						}
					]
				},
				{
					"label": "Advanced HIV Disease Treatment Plan",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Crag test:",
							"id": "cragTest",
							"questionOptions": {
								"concept": "7243bed9-0bc7-4702-af28-a06ab1981e19",
								"answers": [
									{
										"concept": "a896f3a6-1350-11df-a1f1-0026b9348838",
										"label": "Positive"
									},
									{
										"concept": "a896d2cc-1350-11df-a1f1-0026b9348838",
										"label": "Negative"
									},
									{
										"concept": "a89c3d8e-1350-11df-a1f1-0026b9348838",
										"label": "Poor sample quality"
									}
								],
								"showDate": "true",
								"rendering": "select",
								"shownDateOptions": {
									"validators": [
										{
											"type": "date"
										},
										{
											"type": "js_expression",
											"failsWhenExpression": "!isEmpty(cragTest) && isEmpty(myValue)",
											"message": "Date is result is required."
										}
									],
									"hide": {
										"hideWhenExpression": "isEmpty(cragTest)"
									}
								}
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Cryptococcal meningitis treatment plan:",
							"type": "obs",
							"required": "true",
							"questionOptions": {
								"concept": "a89c2790-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a89b7908-1350-11df-a1f1-0026b9348838",
										"label": "Continue current"
									},
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									},
									{
										"concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
										"label": "Start induction"
									},
									{
										"concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
										"label": "Change to consolidation"
									},
									{
										"concept": "c65f52d4-e37c-413e-98ea-33f969896b0f",
										"label": "Change to maintanance"
									},
									{
										"concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
										"label": "Stop"
									}
								],
								"rendering": "select"
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(cryptCurrent) && !isEmpty(myValue) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'],myValue)&&(cryptCurrent==='a899e0ac-1350-11df-a1f1-0026b9348838')",
									"message": "Patient marked as not on Cryptococcus Treatment. Therefore plan can only be none or start."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(cryptCurrent) && cryptCurrent === 'a8971e12-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838'], myValue)",
									"message": "Patient marked as on crypto in history section. Therefore plan can only be continue regimen and stop."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(cragTest) && !isEmpty(myValue) && !arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a89b7908-1350-11df-a1f1-0026b9348838'],myValue)&&(cragTest==='a896f3a6-1350-11df-a1f1-0026b9348838')",
									"message": "Crag test is positive. Therefore patient should be on crypto."
								}
							],
							"id": "cryptoPlan",
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Reason for stopping:",
							"id": "stopCryptoReason",
							"questionOptions": {
								"concept": "a663409c-602b-466a-922b-326a5557ca81",
								"answers": [
									{
										"concept": "a89c1ef8-1350-11df-a1f1-0026b9348838",
										"label": "Completed"
									},
									{
										"concept": "a890d1ba-1350-11df-a1f1-0026b9348838",
										"label": "Toxicity"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(cryptoPlan) && isEmpty(myValue) && arrayContains(['a89b7d36-1350-11df-a1f1-0026b9348838'], cryptoPlan)",
									"message": "You indicated patient is stopping crypto, reason for stopping."
								}
							],
							"hide": {
								"hideWhenExpression": "!arrayContains(['a89b7d36-1350-11df-a1f1-0026b9348838'], cryptoPlan)"
							}
						},
						{
							"label": "Pneumocystic carinii pneumonia (PCP) treatment plan:",
							"type": "obs",
							"required": "true",
							"questionOptions": {
								"concept": "51fff29b-7c60-4c23-96a3-d8535c45c54e",
								"answers": [
									{
										"concept": "a89b7908-1350-11df-a1f1-0026b9348838",
										"label": "Continue"
									},
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									},
									{
										"concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
										"label": "Start"
									},
									{
										"concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
										"label": "Stop"
									}
								],
								"rendering": "select"
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(pcpCurrent) && !isEmpty(myValue) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'],myValue) && (pcpCurrent==='a899e0ac-1350-11df-a1f1-0026b9348838')",
									"message": "Patient marked as not on treatment. Therefore plan can only be none or start."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(pcpCurrent) && pcpCurrent !== 'a899e0ac-1350-11df-a1f1-0026b9348838' && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838'], myValue)",
									"message": "Patient marked as on pcp in history section. Therefore plan can only be continue regimen and stop."
								}
							],
							"id": "pcpPlan",
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Toxoplasmosis treatment plan:",
							"type": "obs",
							"required": "true",
							"questionOptions": {
								"concept": "4ae39f1e-a41e-488b-bdaf-1bd28aa944c2",
								"answers": [
									{
										"concept": "a89b7908-1350-11df-a1f1-0026b9348838",
										"label": "Continue"
									},
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									},
									{
										"concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
										"label": "Start"
									},
									{
										"concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
										"label": "Stop"
									}
								],
								"rendering": "select"
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(toxoCurrent) && !isEmpty(myValue) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'],myValue) && (arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838'],toxoCurrent))",
									"message": "Patient marked as not on treatment. Therefore plan can only be none or start."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(toxoCurrent) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838'],toxoCurrent) && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838'], myValue)",
									"message": "Patient marked as on toxo in history section. Therefore plan can only be continue regimen and stop."
								}
							],
							"id": "toxoPlan",
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Kaposis sarcoma treatment plan:",
							"type": "obs",
							"required": "true",
							"questionOptions": {
								"concept": "8c53ffb7-de82-4aff-ac0e-319bebfa0272",
								"answers": [
									{
										"concept": "a89b7908-1350-11df-a1f1-0026b9348838",
										"label": "Continue"
									},
									{
										"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
										"label": "None"
									},
									{
										"concept": "a89b77aa-1350-11df-a1f1-0026b9348838",
										"label": "Start"
									},
									{
										"concept": "a89b7d36-1350-11df-a1f1-0026b9348838",
										"label": "Stop"
									}
								],
								"rendering": "select"
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(kaposiCurrent) && !isEmpty(myValue) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838','a89b77aa-1350-11df-a1f1-0026b9348838'],myValue) && (arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838'],kaposiCurrent))",
									"message": "Patient marked as not on treatment. Therefore plan can only be none or start."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(kaposiCurrent) && !arrayContains(['a899e0ac-1350-11df-a1f1-0026b9348838'],kaposiCurrent) && !isEmpty(myValue) && arrayContains(['a89b77aa-1350-11df-a1f1-0026b9348838','a899e0ac-1350-11df-a1f1-0026b9348838'], myValue)",
									"message": "Patient marked as on kaposi sarcoma in history section. Therefore plan can only be continue regimen and stop."
								}
							],
							"id": "kaposiPlan",
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						}
					]
				},
				{
					"label": "Preventive Services",
					"isExpanded": "true",
					"questions": [
						{
							"label": "AZT for the baby dispensed?:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8a060c6-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "eb49215f-7278-430b-95c1-b7fe9899aad1",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "N/A"
									}
								]
							},
							"id": "aztDispensed",
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "NVP for the baby dispensed?:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8a060c6-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a8967656-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "N/A"
									}
								]
							},
							"id": "nvpDispensed",
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Intermittent preventive treatment (IPT)",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "a8a49146-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a8a48fc0-1350-11df-a1f1-0026b9348838",
										"label": "Intermittent preventive treatment 1"
									},
									{
										"concept": "a8a49088-1350-11df-a1f1-0026b9348838",
										"label": "Intermittent preventive treatment 2"
									},
									{
										"concept": "4b02517b-9395-4bf8-b15a-639fa755fd9f",
										"label": "Intermittent preventive treatment 3"
									}
								]
							},
							"id": "treatment"
						},
						{
							"label": "Tetanus toxoid dose",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "04d03815-2e4b-4e09-b409-acfb75b05716",
								"answers": [
									{
										"concept": "31a579e7-daf6-4105-90b8-37bb070f918e",
										"label": "One"
									},
									{
										"concept": "889c02ed-f732-47ff-b211-2a4b10cb540b",
										"label": "Two"
									},
									{
										"concept": "3c731705-e440-4042-8916-cca3e631bbe0",
										"label": "Three"
									},
									{
										"concept": "a82b4877-cd15-40ba-af20-f93b5e3387ab",
										"label": "Four"
									},
									{
										"concept": "26ed82f2-2cec-4b46-9042-c8fec354847f",
										"label": "Five"
									},
									{
										"concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
										"label": "Not applicable"
									}
								]
							},
							"id": "tetanusToxoidDose"
						},
						{
							"label": "Deworming given once in the 2nd trimester:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "1ffee2bc-2bcd-4394-a3ac-abfd1916f775",
								"answers": [
									{
										"concept": "a8967656-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"id": "deworm"
						},
						{
							"label": "Deworming date:",
							"type": "obs",
							"questionOptions": {
								"rendering": "date",
								"concept": "eb22f892-21fe-4c2a-8047-f016fd2162c1"
							},
							"id": "dewormDate",
							"hide": {
								"hideWhenExpression": "deworm !== 'a8967656-1350-11df-a1f1-0026b9348838'"
							}
						},
						{
							"label": "Supplements",
							"type": "obs",
							"questionOptions": {
								"rendering": "multiCheckbox",
								"concept": "54f50b94-6cbe-45df-b9cb-b529eaf1f1b1",
								"answers": [
									{
										"concept": "a8939418-1350-11df-a1f1-0026b9348838",
										"label": "Folic acid"
									},
									{
										"concept": "a8a48ef8-1350-11df-a1f1-0026b9348838",
										"label": "Iron supplement"
									},
									{
										"concept": "a89541d2-1350-11df-a1f1-0026b9348838",
										"label": "Multivitamin"
									},
									{
										"concept": "c36c2ec2-3f71-40ea-b568-7b19dc9dde1e",
										"label": "Iron folate"
									},
									{
										"concept": "7904214f-a3a5-4017-98c8-52af36f44d7b",
										"label": "Prenatal vitamins"
									},
									{
										"concept": "6d7384f9-2c49-4bab-abec-511d17edb278",
										"label": "Calcium gluconate"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other non coded"
									}
								]
							},
							"id": "supplements"
						},
						{
							"type": "obsGroup",
							"label": "Additional medication orders",
							"questionOptions": {
								"rendering": "repeating",
								"concept": "a8a0654e-1350-11df-a1f1-0026b9348838"
							},
							"questions": [
								{
									"label": "Drug",
									"questionOptions": {
										"concept": "a8a060c6-1350-11df-a1f1-0026b9348838",
										"rendering": "drug"
									},
									"type": "obs",
									"validators": [],
									"id": "__9uCnvzyoI"
								},
								{
									"label": "Frequency",
									"questionOptions": {
										"concept": "a8a06184-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"label": "Once a day",
												"concept": "a8a05dc4-1350-11df-a1f1-0026b9348838"
											},
											{
												"label": "Twice a day",
												"concept": "a8a05aea-1350-11df-a1f1-0026b9348838"
											},
											{
												"label": "Three times a day",
												"concept": "a8a05b9e-1350-11df-a1f1-0026b9348838"
											},
											{
												"label": "Four times a day",
												"concept": "a8a05cfc-1350-11df-a1f1-0026b9348838"
											},
											{
												"label": "As needed",
												"concept": "9c1dcb23-dc0c-46b2-a755-875ab6d78fc2"
											},
											{
												"label": "Other",
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": [],
									"id": "__sLw5HpwE0"
								},
								{
									"label": "If tabs, number",
									"questionOptions": {
										"concept": "a8a0630a-1350-11df-a1f1-0026b9348838",
										"rendering": "number"
									},
									"type": "obs",
									"id": "__LL5nztFEJ"
								},
								{
									"label": "If caps, number",
									"questionOptions": {
										"concept": "ea404923-fe2b-4812-aec5-3be7fbe712f7",
										"rendering": "number"
									},
									"type": "obs",
									"id": "__2GxGLDLxv"
								},
								{
									"label": "If mg, number",
									"questionOptions": {
										"concept": "a8a063c8-1350-11df-a1f1-0026b9348838",
										"rendering": "number"
									},
									"type": "obs",
									"id": "__sFEtorKyz"
								},
								{
									"label": "If ml, number",
									"questionOptions": {
										"concept": "a8a08286-1350-11df-a1f1-0026b9348838",
										"rendering": "number"
									},
									"type": "obs",
									"id": "__2v0LKvvoD"
								}
							],
							"id": "__uKyEKyzLv"
						}
					]
				},
				{
					"label": "Family Planning Plan",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Dispense condom today?",
							"id": "condomDispensed",
							"questionOptions": {
								"concept": "a8b034d8-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "arrayContains(['02e3ce61-fa24-445e-a1f0-6e3299142966','53b856ad-21ef-4745-9acd-81aca01bba31','55c74fa8-c810-4b37-a918-14a851bba6f3','44032888-08e1-4900-b9dd-7d236d79276c'], visitTypeUuid)"
							}
						}
					]
				}
			]
		},
		{
			"label": "Plan",
			"sections": [
				{
					"label": "Test Orders",
					"isExpanded": "true",
					"questions": [
						{
							"type": "obsGroup",
							"label": "Test orders",
							"questionOptions": {
								"concept": "af46861e-597a-48a3-b3d4-a134d0b1c5fa",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Tests Ordered",
									"id": "order1",
									"type": "testOrder",
									"questionOptions": {
										"rendering": "repeating",
										"orderSettingUuid": "6f0c9a92-6f24-11e3-af88-005056821db0",
										"orderType": "testorder",
										"selectableOrders": [
											{
												"concept": "a8982474-1350-11df-a1f1-0026b9348838",
												"label": "Viral load"
											},
											{
												"concept": "a896cce6-1350-11df-a1f1-0026b9348838",
												"label": "CD4"
											},
											{
												"concept": "7243bed9-0bc7-4702-af28-a06ab1981e19",
												"label": "Crag test"
											},
											{
												"concept": "57677735-4310-4841-8902-dae4bac24d20",
												"label": "DST"
											},
											{
												"concept": "a898fe80-1350-11df-a1f1-0026b9348838",
												"label": "HIV DNA PCR "
											},
											{
												"concept": "a8908192-1350-11df-a1f1-0026b9348838",
												"label": "CXR"
											},
											{
												"concept": "a8945d4e-1350-11df-a1f1-0026b9348838",
												"label": "Sputum AFB"
											},
											{
												"concept": "a897e450-1350-11df-a1f1-0026b9348838",
												"label": "Creatinine"
											},
											{
												"concept": "a898f50c-1350-11df-a1f1-0026b9348838",
												"label": "CBC"
											},
											{
												"concept": "a896ca48-1350-11df-a1f1-0026b9348838",
												"label": "SGPT(ALT)"
											},
											{
												"concept": "a896c8ae-1350-11df-a1f1-0026b9348838",
												"label": "AST"
											},
											{
												"concept": "a8970a26-1350-11df-a1f1-0026b9348838",
												"label": " CD4 %"
											},
											{
												"concept": "a8999fb6-1350-11df-a1f1-0026b9348838",
												"label": "Elisa"
											},
											{
												"concept": "a8999dfe-1350-11df-a1f1-0026b9348838",
												"label": "Rapid HIV "
											},
											{
												"concept": "a8a47094-1350-11df-a1f1-0026b9348838",
												"label": "TB PCR "
											},
											{
												"concept": "741517cf-8bac-4755-b289-8dd2a2df7962",
												"label": "Gene Xpert"
											},
											{
												"concept": "a8908a16-1350-11df-a1f1-0026b9348838",
												"label": "Hgb"
											},
											{
												"concept": "a8a462a2-1350-11df-a1f1-0026b9348838",
												"label": "TB Culture"
											},
											{
												"concept": "a8945678-1350-11df-a1f1-0026b9348838",
												"label": "VDRL"
											},
											{
												"concept": "a894590c-1350-11df-a1f1-0026b9348838",
												"label": "Urinalysis"
											},
											{
												"concept": "a8aff48c-1350-11df-a1f1-0026b9348838",
												"label": "Ultrasound"
											},
											{
												"concept": "a8af7520-1350-11df-a1f1-0026b9348838",
												"label": "HbA1C"
											},
											{
												"concept": "7129af13-e39a-43b0-9923-6d1de22c9c5e",
												"label": "Microalbumin"
											},
											{
												"concept": "a89a7418-1350-11df-a1f1-0026b9348838",
												"label": "Potassium"
											},
											{
												"concept": "a89dda72-1350-11df-a1f1-0026b9348838",
												"label": "ECGn"
											},
											{
												"concept": "a89dd9aa-1350-11df-a1f1-0026b9348838",
												"label": "Echo"
											}
										]
									}
								},
								{
									"label": "Test ordered: Other (specify):",
									"questionOptions": {
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
										"rendering": "text"
									},
									"type": "obs",
									"validators": [],
									"id": "otherTestOrder"
								}
							],
							"id": "testDetailed"
						},
						{
							"label": "CD4 justification:",
							"type": "obs",
							"id": "cd4just",
							"questionOptions": {
								"concept": "7300e4a0-5ce3-44bc-8d28-b7f13019524a",
								"rendering": "select",
								"answers": [
									{
										"concept": "13e72035-c017-489e-815b-31dd528c084a",
										"label": "Baseline"
									},
									{
										"concept": "5aee795e-db90-4af7-9d27-79d7275e61de",
										"label": "New OI"
									},
									{
										"concept": "31962167-5c45-4ce6-b7fb-6dd2bed1b6fd",
										"label": "Returned clients who were IITs (>= 3months)"
									},
									{
										"concept": "e43ddeb6-3984-499c-a280-3bade1039608",
										"label": "Confirmation of treatment failure"
									}
								]
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !(isEmpty(order1) || !arrayContains(order1, 'a896cce6-1350-11df-a1f1-0026b9348838'))",
									"message": "Justification required required."
								}
							],
							"hide": {
								"hideWhenExpression": "isEmpty(order1) || !arrayContains(order1, 'a896cce6-1350-11df-a1f1-0026b9348838')"
							}
						},
						{
							"label": "Viral load justification:",
							"type": "obs",
							"id": "vljust",
							"questionOptions": {
								"concept": "0a98f01f-57f1-44b7-aacf-e1121650a967",
								"rendering": "select",
								"answers": [
									{
										"concept": "d7a8dd98-d5de-4774-823a-a8ab06134d63",
										"label": "First VL"
									},
									{
										"concept": "5931c4d4-4406-4d71-b75d-2205d905cc24",
										"label": "Follow up VL"
									},
									{
										"concept": "a8a00158-1350-11df-a1f1-0026b9348838",
										"label": "Single drug substitution"
									},
									{
										"concept": "92a2818f-662c-4dbc-aa20-d9f4edec2654",
										"label": "Recency"
									},
									{
										"concept": "635f446c-bab9-428a-9930-ae4f46363c0c",
										"label": "PMTCT new positives"
									},
									{
										"concept": "e883376e-80cb-4ec7-a958-f0fbc0a0bad3",
										"label": "PMTCT known positives"
									},
									{
										"concept": "0998e404-d0ea-4271-abe0-a8a69c08c2cf",
										"label": "PMTCT NP <=6 weeks in PNC"
									},
									{
										"concept": "4d74eab9-4cad-4efb-8d58-82b53d23fcb9",
										"label": "PMTCT NP >6 weeks in PNC"
									}
								]
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !(isEmpty(order1) || !arrayContains(order1, 'a8982474-1350-11df-a1f1-0026b9348838'))",
									"message": "Viral load required."
								}
							],
							"hide": {
								"hideWhenExpression": "isEmpty(order1) || !arrayContains(order1, 'a8982474-1350-11df-a1f1-0026b9348838')"
							}
						},
						{
							"label": "First VL justification category:",
							"type": "obs",
							"id": "firstvlCategory",
							"questionOptions": {
								"concept": "f06c293e-5991-4a06-bc3c-723eee2c4237",
								"rendering": "select",
								"answers": [
									{
										"concept": "3966e139-ca69-47c6-aad3-ebd41bb45e28",
										"label": "Baseline VL for infants"
									},
									{
										"concept": "1a5f76c2-e08f-4090-bb8e-9222d86794b0",
										"label": "VL after ART initiation"
									}
								]
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(vljust) && arrayContains(['d7a8dd98-d5de-4774-823a-a8ab06134d63'],vljust)",
									"message": "Please indicate reason for ordering VL."
								}
							],
							"hide": {
								"hideWhenExpression": "isEmpty(vljust) || !arrayContains(['d7a8dd98-d5de-4774-823a-a8ab06134d63'],vljust)"
							}
						},
						{
							"label": "Follow up justification category:",
							"type": "obs",
							"id": "followupCategory",
							"questionOptions": {
								"concept": "d19945a5-4c8e-4a3d-b160-e77dad2a30ad",
								"rendering": "select",
								"answers": [
									{
										"concept": "a8a4812e-1350-11df-a1f1-0026b9348838",
										"label": "Routine VL"
									},
									{
										"concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
										"label": "Regimen change"
									},
									{
										"concept": "a89b7c50-1350-11df-a1f1-0026b9348838",
										"label": "Confirmation of test persistent low level viremia (PLLV)"
									},
									{
										"concept": "e43ddeb6-3984-499c-a280-3bade1039608",
										"label": "Confirmation of treatment failure"
									}
								]
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(vljust) && arrayContains(['5931c4d4-4406-4d71-b75d-2205d905cc24'],vljust)",
									"message": "Please indicate reason for ordering VL."
								}
							],
							"hide": {
								"hideWhenExpression": "isEmpty(vljust) || !arrayContains(['5931c4d4-4406-4d71-b75d-2205d905cc24'],vljust)"
							}
						},
						{
							"label": "PMTCT justification category:",
							"type": "obs",
							"id": "patCategory1",
							"questionOptions": {
								"concept": "a89eea66-1350-11df-a1f1-0026b9348838",
								"rendering": "select",
								"answers": [
									{
										"concept": "a89d109c-1350-11df-a1f1-0026b9348838",
										"label": "Pregnant"
									},
									{
										"concept": "a8a18208-1350-11df-a1f1-0026b9348838",
										"label": "Breastfeeding"
									},
									{
										"concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
										"label": "Not applicable"
									}
								]
							},
							"validators": [
								{
									"type": "js_expression",
									"failsWhenExpression": "isEmpty(myValue) && !isEmpty(vljust) && arrayContains(['635f446c-bab9-428a-9930-ae4f46363c0c','e883376e-80cb-4ec7-a958-f0fbc0a0bad3'],vljust)",
									"message": "Please indicate reason for ordering VL."
								}
							],
							"hide": {
								"hideWhenExpression": "isEmpty(vljust) || !arrayContains(['635f446c-bab9-428a-9930-ae4f46363c0c','e883376e-80cb-4ec7-a958-f0fbc0a0bad3','0998e404-d0ea-4271-abe0-a8a69c08c2cf','4d74eab9-4cad-4efb-8d58-82b53d23fcb9'],vljust)"
							}
						}
					]
				},
				{
					"label": "Positive Health Diginity & Prevention Services",
					"isExpanded": "true",
					"questions": [
						{
							"label": "PHDP:",
							"required": "true",
							"questionOptions": {
								"concept": "e7819751-a5b0-485d-a2bc-9d4aa69aa1e4",
								"answers": [
									{
										"concept": "a8a8b352-1350-11df-a1f1-0026b9348838",
										"label": "Adherence counselling"
									},
									{
										"concept": "b76021d2-38c7-42ff-b2eb-0bd558396ef7",
										"label": "STI screening"
									},
									{
										"concept": "a2c49302-edb4-4baa-8440-2448eafd0ec1",
										"label": "Substance use"
									},
									{
										"concept": "a89accc4-1350-11df-a1f1-0026b9348838",
										"label": "Disclosure to sex partner"
									},
									{
										"concept": "a8a4636a-1350-11df-a1f1-0026b9348838",
										"label": "Partner testing"
									},
									{
										"concept": "f0a280e8-eb88-41a8-837a-f9949ed1b9cd",
										"label": "Condom distribution"
									},
									{
										"concept": "91f43249-73c7-427c-8300-2038fc0d6be8",
										"label": "Needle exchange"
									},
									{
										"concept": "05656545-86be-4605-9527-34fb580534b1",
										"label": "Targeted risk reduction"
									},
									{
										"concept": "a89adc46-1350-11df-a1f1-0026b9348838",
										"label": "Treatment of injuries"
									},
									{
										"concept": "717c50e1-48da-4148-aeee-c49fdd957b64",
										"label": "First line support (LIVES)"
									},
									{
										"concept": "b75702a6-908d-491b-9399-6495712c81cc",
										"label": "Emergency contraceptives"
									},
									{
										"concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
										"label": "N/A"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							},
							"id": "phdpp"
						}
					]
				},
				{
					"label": "Client education:",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Has the client received ANC counselling:",
							"type": "obs",
							"questionOptions": {
								"rendering": "select",
								"concept": "077fd928-aac3-4fe1-a3df-233f6d2d1710",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							},
							"id": "recievedCounselling"
						},
						{
							"label": "ANC counselling:",
							"type": "obs",
							"questionOptions": {
								"rendering": "multiCheckbox",
								"concept": "a8a4899e-1350-11df-a1f1-0026b9348838",
								"conceptMappings": [
									{
										"type": "local",
										"value": "2356"
									},
									{
										"type": "MCL/CIEL",
										"value": "159853"
									}
								],
								"answers": [
									{
										"concept": "a8a485c0-1350-11df-a1f1-0026b9348838",
										"label": "Birth plans"
									},
									{
										"concept": "a8a48688-1350-11df-a1f1-0026b9348838",
										"label": "Danger signs"
									},
									{
										"concept": "a8a70fde-1350-11df-a1f1-0026b9348838",
										"label": "Family planning"
									},
									{
										"concept": "a8983f22-1350-11df-a1f1-0026b9348838",
										"label": "HIV"
									},
									{
										"concept": "a8a488d6-1350-11df-a1f1-0026b9348838",
										"label": "Supplimental feeding"
									},
									{
										"concept": "a8a48746-1350-11df-a1f1-0026b9348838",
										"label": "Breast care"
									},
									{
										"concept": "a89c74f2-1350-11df-a1f1-0026b9348838",
										"label": "Infant feeding"
									},
									{
										"concept": "a8a4880e-1350-11df-a1f1-0026b9348838",
										"label": "Insectiside treated nets"
									}
								]
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": "recievedCounselling !== 'a899b35c-1350-11df-a1f1-0026b9348838'"
							},
							"id": "ancCouncelling"
						}
					]
				},
				{
					"label": "Categorization",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Patient establishment categorization:",
							"type": "obs",
							"required": "true",
							"id": "establishCategory",
							"questionOptions": {
								"concept": "0c61f19e-e1d0-4808-8612-07663ac08cc9",
								"rendering": "select",
								"answers": [
									{
										"concept": "8f2d9ee8-ad95-4f37-b81d-7eff531ad80b",
										"label": "Established"
									},
									{
										"concept": "dc8eb4d5-8e3c-4c48-bec9-340cf125ff55",
										"label": "Not Established"
									}
								]
							},
							"validators": [],
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							}
						}
					]
				},
				{
					"label": "Referrals",
					"questions": [
						{
							"label": "Referred from:",
							"id": "rfBy",
							"type": "obs",
							"questionOptions": {
								"concept": "aad34924-d6e7-4138-a841-0fea9ee4b41f",
								"rendering": "select",
								"answers": [
									{
										"concept": "a89c25d8-1350-11df-a1f1-0026b9348838",
										"label": "Health facility"
									},
									{
										"concept": "a8a00b4e-1350-11df-a1f1-0026b9348838",
										"label": "Community unit"
									},
									{
										"concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
										"label": "N/A"
									}
								]
							},
							"validators": []
						},
						{
							"label": "Referred to:",
							"id": "referralsTo",
							"questionOptions": {
								"concept": "6434322f-d050-4764-8c00-741e20c4c9e1",
								"answers": [
									{
										"concept": "a89c25d8-1350-11df-a1f1-0026b9348838",
										"label": "Health facility"
									},
									{
										"concept": "a8a00b4e-1350-11df-a1f1-0026b9348838",
										"label": "Community unit"
									},
									{
										"concept": "a89ad3a4-1350-11df-a1f1-0026b9348838",
										"label": "N/A"
									}
								],
								"rendering": "multiCheckbox"
							},
							"type": "obs",
							"validators": []
						},
						{
							"type": "obsGroup",
							"label": "Referrals",
							"questionOptions": {
								"concept": "a8a07c8c-1350-11df-a1f1-0026b9348838",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Referrals made to the patient:",
									"id": "referrals",
									"questionOptions": {
										"concept": "a89c2344-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a899e0ac-1350-11df-a1f1-0026b9348838",
												"label": "None"
											},
											{
												"concept": "a89fbb12-1350-11df-a1f1-0026b9348838",
												"label": "OVC"
											},
											{
												"concept": "a8a066ca-1350-11df-a1f1-0026b9348838",
												"label": "ENT"
											},
											{
												"concept": "a8a8b352-1350-11df-a1f1-0026b9348838",
												"label": "Adherence counselling"
											},
											{
												"concept": "a2187952-59e0-449b-895f-5102b7aed49c",
												"label": "Cardiology"
											},
											{
												"concept": "0fa18f9a-95c8-4ab3-81ed-a1bac69063fa",
												"label": "Diabetes"
											},
											{
												"concept": "a89accc4-1350-11df-a1f1-0026b9348838",
												"label": "Disclosure counselling"
											},
											{
												"concept": "057dae68-3d6f-4d79-926c-ed75a0ce7fd5",
												"label": "Hospitalization"
											},
											{
												"concept": "073ea366-834b-49bd-b4db-ce4e6c61bbc3",
												"label": "Oncology"
											},
											{
												"concept": "a8a8b42e-1350-11df-a1f1-0026b9348838",
												"label": "Mental health services"
											},
											{
												"concept": "a8a8afd8-1350-11df-a1f1-0026b9348838",
												"label": "Nutritional support"
											},
											{
												"concept": "50d22d55-e6af-4a77-9283-2e901c3060ad",
												"label": "OBS/Gynaecology review"
											},
											{
												"concept": "a89e2df6-1350-11df-a1f1-0026b9348838",
												"label": "Psychosocial support"
											},
											{
												"concept": "a8a8b26c-1350-11df-a1f1-0026b9348838",
												"label": "TB/DOT program"
											},
											{
												"concept": "c65fcd72-1f3f-4450-b93f-90a87ae64d55",
												"label": "Surgery"
											},
											{
												"concept": "0d516ea7-218f-43d4-b5c0-58d126529271",
												"label": "Dermatology"
											},
											{
												"concept": "a89e2d1a-1350-11df-a1f1-0026b9348838",
												"label": "Social work"
											},
											{
												"concept": "7c6f0599-3e3e-4f42-87a2-2ce66f1e96d0",
												"label": "Differentiated care program"
											},
											{
												"concept": "a8a06788-1350-11df-a1f1-0026b9348838",
												"label": "Ophthalmology "
											},
											{
												"concept": "a8a002e8-1350-11df-a1f1-0026b9348838",
												"label": "Reproductive health "
											},
											{
												"concept": "a9431295-9862-405b-b694-534f093ca0ad",
												"label": "MDT Program"
											},
											{
												"concept": "7c941f38-ede1-4a94-938f-6c4083339673",
												"label": "Resistant clinic"
											},
											{
												"concept": "355b199f-c9c7-4e91-831f-2be17d2c67bd",
												"label": "Legal counsel"
											},
											{
												"concept": "5fc2555b-cae1-4bb8-9cd8-e19c2c04fc37",
												"label": "Police department"
											},
											{
												"concept": "5a089407-22df-4242-99d8-0b4d4da56b75",
												"label": "Child protection services"
											},
											{
												"concept": "a8b02e16-1350-11df-a1f1-0026b9348838",
												"label": "Emergency shelter"
											},
											{
												"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
												"label": "Other"
											}
										],
										"rendering": "multiCheckbox"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"label": "Referrals made to the patient: Other (specify):",
									"questionOptions": {
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838",
										"rendering": "text"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "referrals !== 'a8aaf3e2-1350-11df-a1f1-0026b9348838'"
									},
									"id": "__HoKrrpMFL"
								}
							],
							"id": "otherRefer"
						},
						{
							"label": "If referred for hospitalization, choose location:",
							"questionOptions": {
								"concept": "a89c2420-1350-11df-a1f1-0026b9348838",
								"answers": [
									{
										"concept": "a89c25d8-1350-11df-a1f1-0026b9348838",
										"label": "Local health centre/hospital"
									},
									{
										"concept": "a89c24fc-1350-11df-a1f1-0026b9348838",
										"label": "MTRH"
									},
									{
										"concept": "a8aaf3e2-1350-11df-a1f1-0026b9348838",
										"label": "Other"
									}
								],
								"rendering": "select"
							},
							"type": "obs",
							"validators": [],
							"hide": {
								"hideWhenExpression": "isEmpty(referrals) || !arrayContains(referrals, '057dae68-3d6f-4d79-926c-ed75a0ce7fd5')"
							},
							"id": "locationRefer"
						},
						{
							"label": "Reason  for hospitalization",
							"type": "obsGroup",
							"questionOptions": {
								"concept": "a8a07c8c-1350-11df-a1f1-0026b9348838",
								"rendering": "repeating"
							},
							"hide": {
								"hideWhenExpression": "currHivStatus !== 'fa5a4dd8-60cd-4085-80b6-4aea76809926' && finalResults !== 'a896f3a6-1350-11df-a1f1-0026b9348838'"
							},
							"questions": [
								{
									"label": "Reason for hospitalization:",
									"questionOptions": {
										"concept": "a8a07a48-1350-11df-a1f1-0026b9348838",
										"rendering": "problem"
									},
									"type": "obs",
									"validators": [],
									"hide": {
										"hideWhenExpression": "isEmpty(referrals) || !arrayContains(referrals, '057dae68-3d6f-4d79-926c-ed75a0ce7fd5')"
									},
									"id": "reasonHosp"
								}
							],
							"id": "hospDetailed"
						}
					]
				},
				{
					"label": "Categorization",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Patient establishment categorization:",
							"type": "obs",
							"required": "true",
							"id": "establishCategory",
							"questionOptions": {
								"concept": "0c61f19e-e1d0-4808-8612-07663ac08cc9",
								"rendering": "select",
								"answers": [
									{
										"concept": "8f2d9ee8-ad95-4f37-b81d-7eff531ad80b",
										"label": "Established"
									},
									{
										"concept": "dc8eb4d5-8e3c-4c48-bec9-340cf125ff55",
										"label": "Not Established"
									}
								]
							},
							"validators": []
						}
					]
				},
				{
					"label": "Internal Movement",
					"questions": [
						{
							"label": "Is the client moving out for other care services within the facility?",
							"id": "internalMove",
							"type": "obs",
							"questionOptions": {
								"concept": "b924bd11-2a02-4dbb-a3d7-bae1d796edc2",
								"rendering": "select",
								"answers": [
									{
										"concept": "a899b35c-1350-11df-a1f1-0026b9348838",
										"label": "Yes"
									},
									{
										"concept": "a899b42e-1350-11df-a1f1-0026b9348838",
										"label": "No"
									}
								]
							}
						}
					]
				},
				{
					"label": "Transfer Out",
					"questions": [
						{
							"type": "obsGroup",
							"label": "Transfer care to other centre",
							"questionOptions": {
								"concept": "a8a170e2-1350-11df-a1f1-0026b9348838",
								"rendering": "group"
							},
							"questions": [
								{
									"label": "Transfer care to other centre:",
									"id": "transferOut",
									"questionOptions": {
										"concept": "a89c2e5c-1350-11df-a1f1-0026b9348838",
										"answers": [
											{
												"concept": "a89c2f42-1350-11df-a1f1-0026b9348838",
												"label": "AMPATH"
											},
											{
												"concept": "a89c301e-1350-11df-a1f1-0026b9348838",
												"label": "Non-AMPATH"
											},
											{
												"concept": "a8a17d80-1350-11df-a1f1-0026b9348838",
												"label": "MCH"
											}
										],
										"rendering": "select"
									},
									"type": "obs",
									"validators": []
								},
								{
									"type": "personAttribute",
									"label": "Specify name of AMPATH clinic to which patient is being referred:",
									"id": "transfered_out_to_ampath",
									"required": "false",
									"questionOptions": {
										"rendering": "ui-select-extended",
										"attributeType": "8d87236c-c2cc-11de-8d13-0010c6dffd0f"
									},
									"hide": {
										"hideWhenExpression": "transferOut !== 'a89c2f42-1350-11df-a1f1-0026b9348838'"
									}
								},
								{
									"type": "obs",
									"label": "If Non-AMPATH specify where the patient is being referred:",
									"id": "transfered_out_to_non_ampath",
									"required": "false",
									"default": "",
									"questionOptions": {
										"rendering": "text",
										"concept": "a8a06fc6-1350-11df-a1f1-0026b9348838"
									},
									"hide": {
										"hideWhenExpression": "transferOut !== 'a89c301e-1350-11df-a1f1-0026b9348838'"
									}
								}
							],
							"id": "__KuwFsFMty"
						}
					]
				},
				{
					"label": "Next Appointment",
					"isExpanded": "true",
					"questions": [
						{
							"label": "Return to clinic date:",
							"type": "obs",
							"required": "true",
							"id": "rtc",
							"questionOptions": {
								"concept": "a8a666ba-1350-11df-a1f1-0026b9348838",
								"rendering": "date",
								"weeksList": [
									2,
									4,
									6,
									8,
									12,
									16,
									20,
									24,
									36
								]
							},
							"validators": [
								{
									"type": "date",
									"allowFutureDates": "true"
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "(new moment(encDate)).isAfter((new moment(myValue)), 'day') || (new moment(encDate)).isSame((new moment(myValue)), 'day')",
									"message": "Return to clinic date should be greater than the encounter date."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(medDate) && (new moment(medDate)).isSame((new moment(myValue)), 'day')",
									"message": "Return to clinic date should not be the same as the Medication Pickup date."
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(medDate) && (new moment(medDate)).isAfter((new moment(myValue)), 'day')",
									"message": "Return to clinic date should be after medication pick up date"
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(medDate) && (new moment(myValue)).diff(new moment(medDate),'weeks') < 2",
									"message": "Return to clinic date should not be less than 2 weeks after the medication pick up date"
								},
								{
									"type": "js_expression",
									"failsWhenExpression": "!isEmpty(medDate) && (new moment(myValue)).diff(new moment(medDate),'weeks') > 24",
									"message": "Return to clinic date should not be more than 6 months after medication pick up date"
								}
							]
						}
					]
				}
			]
		}
	]
	
}